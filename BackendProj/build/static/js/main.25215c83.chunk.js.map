{"version":3,"sources":["Constants.js","components/directmessaging/ListOfConversations.js","components/directmessaging/ConvoView.js","components/directmessaging/ChatWindow.js","components/directmessaging/DirectMessaging.js","components/create-post.component.js","components/create-login.component.js","components/postView.component.js","components/HomePage.component.js","components/ProfilePage.component.js","components/create-account.component.js","components/postPage.component.js","components/logoutPage.component.js","App.js","serviceWorker.js","index.js","logo.svg"],"names":["config","url","API_URL","ListOfConversations","props","className","this","isLoading","Object","keys","conversations","map","item","key","onClick","goToChatView","Component","ConvoView","state","DMInputText","handleInputChange","bind","OnPostDMButtonClicked","event","target","value","name","setState","messages","message","type","class","aria-label","placeholder","aria-describedby","onChange","id","ChatWindow","data","showModal","onNewMessage","messageMap","username","whoAmI","nextProps","console","log","fromUser","toUser","push","fetch","Constants","method","credentials","then","res","json","result","status","loading","getAllMessages","catch","error","alert","i","length","msgObj","user","Status","filterMessages","showChatView","openConvoWith","messageText","headers","body","JSON","stringify","DirectMessaging","e","toggleModal","CreatePost","onChangePostFile","obj","files","filename","image_obj","image_name","onChangePostDescription","onSubmit","image_description","upload_progress","preventDefault","fd","FormData","append","text","includes","style","marginTop","Post_file","for","marginLeft","CreateLogin","password","goToHomePage","sessionStorage","setItem","SuccesfullLoginCallback","to","PostView","isLiked","isCommented","postData","voters","getItem","handleLike","handleComment","postId","goToLogin","OnGoToCommentsButtonClicked","prevProps","undefined","src","image","width","onProfilePage","size","icon","faHeartSolid","faHeart","faCommentSolid","faComment","votes","HomePage","isAllContent","GoToCommentPage","SelectedPost","posts","prevDataFromParent","postIds","FeedSwitch","getPosts","arr","Array","from","x","_id","socketHandler","getPostsFromFollowingFeed","dataFromParent","updateType","findIndex","postToUpdate","vote","post","ProfilePage","isFollowing","userNotFound","handleFollow","profileUsername","match","params","setIsFollowing","following","CreateAccount","onChangeUsername","onChangePassword","onChangePasswordVerify","passwordverify","raw","localeCompare","required","PostPage","comments","goBackToHomePage","commentInputText","handleInputChange2","OnPostCommentButtonClicked","thepostId","getPost","comment","LogoutPage","isLoggedOut","goLogout","SuccesfullLogoutCallback","goToLoginPage","socket","openSocket","transports","secureSocket","App","socketUpdateHandler","a","sendSocketIO","isLoggedIn","newMessage","apples","onAuthenticate","onChatUpdate","getCookie","on","msg","checkIfLoggedIn","onRouteChanged","s","emit","cname","ca","decodeURIComponent","document","cookie","split","c","charAt","substring","indexOf","myAuth","p","prevState","href","logo","height","alt","float","path","exact","render","Boolean","window","location","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.25215c83.chunk.js","sourcesContent":["// Constants.js\r\nconst prod = {\r\n    url: {\r\n     API_URL: \"\"}\r\n   };\r\n   const dev = {\r\n    url: {\r\n     API_URL: \"http://localhost:3000\"\r\n    }\r\n   };\r\n   export const config = process.env.NODE_ENV === \"development\" ? dev : prod;","import React, { Component } from \"react\";\r\nimport * as Constants from \"../../Constants.js\";\r\nimport \"./dmStyles.css\"\r\n\r\nexport default class ListOfConversations extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render(){\r\n        return(            \r\n                        <ul className=\"list-group width100 overflow-auto\">\r\n                            {this.props.isLoading ? <div>Loading</div> :\r\n                                Object.keys(this.props.conversations).map(item => (\r\n                                    <li key={item} onClick={()=>this.props.goToChatView(item)} className=\"list-group-item pointer text-wrap text-break\">{item}</li>\r\n                                    ))\r\n                            }\r\n                            \r\n                            \r\n                        </ul>            \r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}","import React, { Component } from \"react\";\r\nimport * as Constants from \"../../Constants.js\";\r\nimport \"./dmStyles.css\"\r\n\r\nexport default class ConvoView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            DMInputText:\"\"\r\n        }\r\n\r\n        this.handleInputChange=this.handleInputChange.bind(this);\r\n        this.OnPostDMButtonClicked=this.OnPostDMButtonClicked.bind(this);\r\n        \r\n    }\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value\r\n        });\r\n      }\r\n\r\n      OnPostDMButtonClicked(){\r\n\r\n        this.props.OnPostDMButtonClicked(this.state.DMInputText);\r\n        this.setState({DMInputText:\"\"});\r\n      }\r\n\r\n\r\n\r\n    render(){\r\n        return(            \r\n                    <div className=\"d-flex flex-column\">    \r\n                    <div className=\"CommentFeed overflow-auto\">\r\n                        \r\n                            \r\n                            <ul className=\"list-group width100   list-group-flush overflow-auto maxH\">\r\n                                {this.props.isLoading ? <div>Loading</div> :\r\n                                    this.props.messages.map(item => (\r\n                                        <li key={item.message} className=\"list-group-item pointer text-wrap text-break\">{item.message}</li>\r\n                                        ))\r\n                                }\r\n                                \r\n                                \r\n                            </ul>\r\n\r\n\r\n\r\n\r\n                        \r\n                    </div>\r\n                    <div className=\"border-top \" >\r\n                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                            \r\n                            {/*<div className=\"d-flex justify-content-center align-items-center align-self-center\">*/}\r\n                                <div className=\"input-group mb-3 noPad noMar\">\r\n                                    <input type=\"text\" class=\"form-control\" name=\"DMInputText\" aria-label=\"Text input with segmented dropdown button for commenting\" placeholder=\"Comment Here\"  aria-describedby=\"button-addon2\" value={this.state.DMInputText} onChange={this.handleInputChange}/>\r\n                                    \r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-primary\" type=\"button\" id=\"button-addon2\" onClick={() => this.props.OnPostDMButtonClicked(this.state.DMInputText)}>Post</button>\r\n                                    </div>\r\n                                </div>\r\n                                {/* </div>*/}\r\n\r\n                            </div>\r\n                        \r\n                    </div>   \r\n                    </div>         \r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}","import React, { Component } from \"react\";\r\nimport * as Constants from \"../../Constants.js\";\r\nimport ListOfConversations from \"./ListOfConversations\"\r\nimport ConvoView from \"./ConvoView\"\r\nimport \"./dmStyles.css\"\r\n\r\nexport default class ChatWindow extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          data:\"\",\r\n          showModal:false,\r\n          messages:[],\r\n          isLoading:true,\r\n          onNewMessage:null,\r\n          messageMap:null,\r\n          username:\"\"\r\n        };\r\n        this.goToChatView=this.goToChatView.bind(this);\r\n        this.OnPostDMButtonClicked=this.OnPostDMButtonClicked.bind(this);\r\n    }\r\n    componentDidMount(){\r\n        this.whoAmI();\r\n        //this.getAllMessages();\r\n    }\r\n    toggleModal(){\r\n        this.setState({\r\n            showModal:!this.state.showModal\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(nextProps) {\r\n        const { onNewMessage } = this.props;\r\n\r\n        const {messageMap, messages}=this.state;\r\n        if (nextProps.onNewMessage !== onNewMessage) {\r\n            console.log(\"yea yea\")\r\n\r\n\r\n            if((nextProps.onNewMessage.fromUser===this.state.username)&&(nextProps.onNewMessage.toUser===this.state.username)){\r\n                if(messageMap[nextProps.onNewMessage.fromUser]){\r\n                    messageMap[nextProps.onNewMessage.fromUser].push(nextProps.onNewMessage);\r\n                }\r\n                else messageMap[nextProps.onNewMessage.fromUser]=[nextProps.onNewMessage];\r\n            }\r\n            else if((nextProps.onNewMessage.fromUser===this.state.username)&&(nextProps.onNewMessage.toUser!==this.state.username)){\r\n                if(messageMap[nextProps.onNewMessage.toUser]){\r\n                    messageMap[nextProps.onNewMessage.toUser].push(nextProps.onNewMessage);\r\n                    console.log(\"yea man its me2\")\r\n                }\r\n                else{\r\n                    messageMap[nextProps.onNewMessage.toUser]=[nextProps.onNewMessage];\r\n                }\r\n                \r\n            }\r\n            else if((nextProps.onNewMessage.fromUser!==this.state.username)&&(nextProps.onNewMessage.toUser===this.state.username)){\r\n                if(messageMap[nextProps.onNewMessage.fromUser]){\r\n                    messageMap[nextProps.onNewMessage.fromUser].push(nextProps.onNewMessage);\r\n                    console.log(\"yea man its me\")\r\n                }\r\n                else messageMap[nextProps.onNewMessage.fromUser]=[nextProps.onNewMessage];\r\n            }\r\n            else{\r\n                console.log((nextProps.onNewMessage.fromUser!==this.state.username))\r\n                console.log((nextProps.onNewMessage.toUser===this.state.username))\r\n                console.log(nextProps)\r\n                console.log((nextProps.onNewMessage).toUser);\r\n                console.log(this.state.username)\r\n                console.log(\"non of the above dawg\")\r\n            }\r\n            messages.push(onNewMessage);\r\n            this.setState({\r\n                messages:messages,\r\n                messageMap:messageMap\r\n            })\r\n            \r\n\r\n\r\n\r\n\r\n        }\r\n       }\r\n\r\n    whoAmI(){\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/whoamI\",\r\n              {\r\n                method: \"get\",\r\n                credentials: 'include'\r\n              }\r\n            )\r\n              .then((res) => res.json())\r\n              .then((result) => {\r\n                if(result.status===\"Success\"){\r\n                  console.log(result);\r\n                  this.setState(state => ({\r\n                      loading:false,\r\n                      username:result.username,\r\n                      \r\n                      \r\n                    }));\r\n                    this.getAllMessages();\r\n                }\r\n                \r\n                  \r\n                \r\n              })\r\n              .catch((error) => {alert(\"Error getting checking if logged in\", error); alert(error)});\r\n    }\r\n    filterMessages(messages){\r\n        console.log(messages)\r\n        var messageMap= new Object();\r\n\r\n        for(var i=0; i<messages.length;i++){\r\n            var msgObj=messages[i]\r\n            console.log(\"the user from this message is \"+msgObj.user);\r\n            \r\n                if((msgObj.fromUser===this.state.username)&&(msgObj.toUser===this.state.username)){\r\n                    if(messageMap[msgObj.fromUser]){\r\n                        messageMap[msgObj.fromUser].push(msgObj);\r\n                    }\r\n                    else messageMap[msgObj.fromUser]=[msgObj];\r\n                }\r\n                else if((msgObj.fromUser===this.state.username)&&(msgObj.toUser!==this.state.username)){\r\n                    if(messageMap[msgObj.toUser]){\r\n                        messageMap[msgObj.toUser].push(msgObj);\r\n                    }\r\n                    else{\r\n                        messageMap[msgObj.toUser]=[msgObj];\r\n                    }\r\n                    \r\n                }\r\n                else if((msgObj.fromUser!==this.state.username)&&(msgObj.toUser===this.state.username)){\r\n                    if(messageMap[msgObj.fromUser]){\r\n                        messageMap[msgObj.fromUser].push(msgObj);\r\n                    }\r\n                    else messageMap[msgObj.fromUser]=[msgObj];\r\n                }\r\n                    \r\n                    \r\n            \r\n        }\r\n        this.setState({\r\n            isLoading:false,\r\n            messageMap:messageMap\r\n        })\r\n\r\n\r\n\r\n    }\r\n    getAllMessages(){\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/chat/getMessages\",\r\n            {\r\n              method: \"get\",\r\n              credentials: \"include\"\r\n              \r\n            }\r\n          )\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n                console.log(result);\r\n                if(result.Status===\"success\"){\r\n                    this.setState({\r\n                        messages:result.messages\r\n                    })\r\n                }\r\n                this.filterMessages(result.messages);\r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error getting DMS\", error); alert(error)});\r\n    }\r\n    goToChatView(username){\r\n        console.log(\"going to chat with\"+username)\r\n       this.setState({\r\n           showChatView:true,\r\n           openConvoWith:username\r\n       })\r\n    }\r\n    OnPostDMButtonClicked(messageText){\r\n        console.log(\"the message text is: \"+messageText)\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/chat/message\",\r\n            {\r\n              method: \"post\",\r\n              \r\n              credentials: \"include\",\r\n              \r\n              headers: {\r\n                'Content-Type': 'application/json'},\r\n                \r\n              body: JSON.stringify({\r\n                \"username\": this.state.openConvoWith,\r\n                \"message\": messageText\r\n              })\r\n            }\r\n          )\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n                console.log(result);\r\n                if(result.Status===\"success\"){\r\n                    \r\n                }\r\n                \r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error getting DMS\", error); alert(error)});\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        \r\n\r\n\r\n        return(\r\n            <div className=\"ChatWindow Container-fluid justify-content-center\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 text-center \">\r\n                        {/* <div className=\"nav nav-pills nav-fill width100\" role=\"group\" aria-label=\"Basic example\">\r\n                            <li type=\"button\" className=\"nav-item nav-link active tab\">Chat List</li>\r\n                            <li type=\"button\" className=\"nav-item nav-link active tab\">Chat</li>\r\n\r\n                        </div> */}\r\n                        <div className=\"Container-fluid\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col-2\">\r\n\r\n                                </div>\r\n                                <div className=\"col-8\">\r\n                                <h4>Direct Messaging</h4>\r\n                                </div>\r\n                                <div className=\"col-2\">\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    \r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        {this.state.showChatView ? <ConvoView isLoading={this.state.isLoading} OnPostDMButtonClicked={this.OnPostDMButtonClicked} messages={this.state.messageMap[this.state.openConvoWith]}></ConvoView> : \r\n                        <ul className=\"list-group width100 overflow-auto\">\r\n                            <ListOfConversations isLoading={this.state.isLoading} conversations={this.state.messageMap} goToChatView={this.goToChatView} />\r\n                        </ul>\r\n                        }\r\n                        \r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n                \r\n            </div>\r\n            \r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}","import React, { Component } from \"react\";\r\nimport * as Constants from \"../../Constants.js\";\r\nimport ChatWindow from \"./ChatWindow\"\r\nimport \"./dmStyles.css\"\r\n\r\nexport default class DirectMessaging extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          data:\"\",\r\n          showModal:false,\r\n          onNewMessage:null\r\n        };\r\n    }\r\n    toggleModal(){\r\n        this.setState({\r\n            showModal:!this.state.showModal\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        \r\n\r\n\r\n        return(\r\n            <div>\r\n                {this.state.showModal ? <ChatWindow onNewMessage={this.props.onNewMessage}></ChatWindow> :<div></div>}\r\n                <div className=\"FloatingActionButton\" onClick={(e)=>this.toggleModal()}><h2 className=\"FabText\">Dm's</h2></div>\r\n            </div>\r\n            \r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}","import React, { Component } from 'react';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class CreatePost extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangePostDescription = this.onChangePostDescription.bind(this);\r\n        this.onChangePostFile = this.onChangePostFile.bind(this);\r\n\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            image_obj: null,\r\n            image_name:'Select image',\r\n            image_description: '',\r\n            upload_progress: ''\r\n        }\r\n    }\r\n\r\n    onChangePostDescription(e) {\r\n        this.setState({\r\n            image_description: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePostFile = e => {\r\n        if(e.target.value.length > 0){\r\n            var obj = e.target.files[0];\r\n            var filename = obj['name'];\r\n            console.log(obj);\r\n            this.setState({\r\n                image_obj: obj,\r\n                image_name: filename\r\n            });\r\n        } else {\r\n            console.log(\"cancel was clicked\");\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        console.log(`Form submitted:`);\r\n        //console.log(`Post Description: ${this.state.Post_description}`);\r\n        \r\n        const fd = new FormData();\r\n        fd.append('file', this.state.image_obj);\r\n        fd.append('text', this.state.image_description);\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        };\r\n\r\n        fetch(Constants.config.url[\"API_URL\"]+'/posts/add', {\r\n            credentials: 'include',\r\n            method: 'POST',\r\n            body: fd\r\n        }).then((res)=>{ return res.text() }).then((text)=>{\r\n            console.log(text);\r\n            if (text.includes(\"post added\")){\r\n                console.log(\"Upload complete!\");\r\n                this.setState({\r\n                    upload_progress: 'Upload Successful'\r\n                });\r\n            }\r\n            else if(text.includes(\"invalid authentication token\")){\r\n                console.log(\"Upload failed\");\r\n                this.setState({\r\n                    upload_progress: 'Upload Failed. Please log in and try again.'\r\n                });\r\n            }\r\n            else{\r\n                console.log(\"Upload failed\");\r\n                this.setState({\r\n                    upload_progress: 'Upload failed. Please try again.'\r\n                });\r\n            }\r\n            this.setState({\r\n                image_description: '',\r\n                image_obj: null,\r\n                image_name: 'Choose image'\r\n            })\r\n        });\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{marginTop: 10}}>\r\n                <h3>Create Post</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\"> \r\n                        <label>Description: </label>\r\n                        <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.image_description}\r\n                                onChange={this.onChangePostDescription}\r\n                                />\r\n                    </div>\r\n                    <div class=\"form-group custom-file\">\r\n                        <input type=\"file\" class=\"custom-file-input\" id=\"customFile\" value={this.state.Post_file}\r\n                                onChange={this.onChangePostFile}/>\r\n                        <label class=\"custom-file-label\" for=\"customFile\">{this.state.image_name}</label>\r\n                        </div>\r\n\r\n                    <div className=\"submit-upload\" style={{marginTop: 10}}>\r\n                        <input type=\"submit\" value=\"Create Post\" className=\"btn btn-primary\" />\r\n                        <span style={{marginLeft: 10}}>{this.state.upload_progress}</span>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./loginPage.css\"\r\nimport { Link } from 'react-router-dom';\r\nimport {Redirect, useParams} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class CreateLogin extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // this.onChangeTodoDescription = this.onChangeTodoDescription.bind(this);\r\n        // this.onChangeTodoResponsible = this.onChangeTodoResponsible.bind(this);\r\n        // this.onChangeTodoPriority = this.onChangeTodoPriority.bind(this);\r\n        // this.onSubmit = this.onSubmit.bind(this);\r\n            this.onSubmit = this.onSubmit.bind(this);\r\n            this.handleInputChange = this.handleInputChange.bind(this);\r\n         this.state = {\r\n             username: '',\r\n             password: '',\r\n             goToHomePage: false\r\n         }\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value\r\n        });\r\n      }\r\n\r\n     onSubmit(e) {\r\n         e.preventDefault();\r\n        console.log(\"chicken\");\r\n\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/login\",\r\n            {\r\n              credentials: 'include',\r\n                \r\n              method: \"POST\",\r\n              headers: {\r\n                'Content-Type': 'application/json'},\r\n              body:JSON.stringify({\r\n                \"username\": this.state.username,//\"jacobTesterman2\",\r\n\t            \"password\": this.state.password//\"securepassword?\"\r\n              }),\r\n                \r\n              \r\n            }\r\n          )\r\n            .then((res) => res.text())\r\n            .then((result) => {\r\n                if(result===\"login correct\"){\r\n                    sessionStorage.setItem(\"username\",this.state.username);\r\n                    this.props.SuccesfullLoginCallback(this.state.username);\r\n                    this.setState(state => ({\r\n                        goToHomePage:true\r\n                      }));\r\n                }\r\n                console.log(result);\r\n                \r\n                \r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error Logging In\", error); alert(error)});\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //     console.log(`Form submitted:`);\r\n    //     console.log(`Todo Description: ${this.state.todo_description}`);\r\n    //     console.log(`Todo Responsible: ${this.state.todo_responsible}`);\r\n    //     console.log(`Todo Priority: ${this.state.todo_priority}`);\r\n\r\n    //     this.setState({\r\n    //         todo_description: '',\r\n    //         todo_responsible: '',\r\n    //         todo_priority: '',\r\n    //         todo_completed: false\r\n    //     })\r\n    }\r\n\r\n    render() {\r\n        if(this.state.goToHomePage===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/\"}\r\n                    />\r\n                )\r\n        }\r\n        return (\r\n            <div style={{ marginTop: 10 }}>\r\n                <h3>Login:</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Username: </label>\r\n                        <input name=\"username\" type=\"username\"\r\n                            className=\"form-control\"\r\n                            value={this.state.username}\r\n                            onChange={this.handleInputChange}\r\n\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password: </label>\r\n                        <input name=\"password\"\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleInputChange}\r\n\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group Container\">\r\n                        <div className=\"row\">\r\n                            <button className=\"col-4 btn btn-primary\" type=\"button\">\r\n                                Forgot Password?\r\n                            </button>\r\n                            <div className=\"col\"></div>\r\n\r\n\r\n                            <button className=\"col-4 btn btn-primary\" type=\"submit\">\r\n                                Login\r\n                            </button>\r\n                        </div>\r\n                        <br></br>\r\n                        <div className=\"row\">\r\n                            <div className=\"col\"></div>\r\n                            <Link className=\"col-5 btn btn-primary\" to=\"/createAccount\">\r\n                                Create Account\r\n                            </Link>\r\n                            <div className=\"col\"></div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./postView.css\"\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faHeart,faComment} from '@fortawesome/fontawesome-free-regular'\r\nimport { faHeart as faHeartSolid, faComment as faCommentSolid } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { s } from '@fortawesome/free-solid-svg-icons'\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class PostView extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isLiked: false, isCommented: false};\r\n    \r\n        if(this.props.postData.voters[sessionStorage.getItem(\"username\")]===\"upvote\"){           \r\n                this.state.isLiked=true;\r\n        }\r\n        else{\r\n            \r\n                this.state.isLiked=false;\r\n           \r\n        }\r\n\r\n        // This binding is necessary to make `this` work in the callback\r\n        this.handleLike = this.handleLike.bind(this);\r\n        this.handleComment = this.handleComment.bind(this);\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n    handleLike(){\r\n        if(!sessionStorage.getItem(\"username\")){\r\n            this.setState({\r\n                goToLogin: true\r\n            })\r\n        }\r\n        else{\r\n            const { postId } = this.props;\r\n            fetch(\r\n                Constants.config.url[\"API_URL\"]+\"/posts/upvote/\"+postId,\r\n                {\r\n                    credentials: 'include',\r\n                   // mode: \"same-origin\",\r\n                  method: \"post\",\r\n                  headers: {\r\n                    'Content-Type': 'application/json'}\r\n                }\r\n              )\r\n                .then((res) => res.text())\r\n                .then((result) => {\r\n                    console.log(\"we smashed that like button and  got\");\r\n                    console.log(result);\r\n                    \r\n                    \r\n                  \r\n                })\r\n                .catch((error) => {alert(\"Error getting ProfileData\", error); alert(error)});\r\n            \r\n    \r\n    \r\n              this.setState(state => ({\r\n                isLiked: !state.isLiked\r\n              }));  \r\n\r\n\r\n        }\r\n\r\n        \r\n    }\r\n    handleComment(){\r\n        \r\n        this.props.OnGoToCommentsButtonClicked(this.props.postId);\r\n        this.setState(state => ({\r\n            isCommented: !state.isCommented\r\n          }));\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"mounted babby\");\r\n        console.log(this.props.postData.voters[sessionStorage.getItem(\"username\")]);\r\n        if(this.props.postData.voters[sessionStorage.getItem(\"username\")]===\"upvote\"){\r\n            this.setState(state =>({\r\n                isLiked:true\r\n            }));\r\n        }\r\n        else{\r\n            this.setState(state =>({\r\n                isLiked:false\r\n            }));\r\n        }\r\n      }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(this.props.postData!==prevProps.postData){\r\n            if(this.props.postData.voters[sessionStorage.getItem(\"username\")]===\"upvote\"){\r\n                this.setState(state =>({\r\n                    isLiked:true\r\n                }));\r\n            }\r\n            else{\r\n                this.setState(state =>({\r\n                    isLiked:false\r\n                }));\r\n            }\r\n        }\r\n        \r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if(this.state.goToLogin===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/login\"}\r\n                    />\r\n                )\r\n        }\r\n        //////Assigning default image to jesseerror404 if not found/////////\r\n        var image;\r\n        if(this.props.postData.src != undefined){\r\n            this.image = Constants.config.url[\"API_URL\"]+\"/\"+this.props.postData.src\r\n        }else{\r\n            this.image = Constants.config.url[\"API_URL\"]+\"/images/error404.jpg\"\r\n        }\r\n        ////////////////////////////////////////////////////////////\r\n\r\n\r\n        return (\r\n            <div className=\"Container postContainer\">\r\n                <div className=\"row\">\r\n                \r\n                    <div className=\"col-2\">\r\n                        <img src=\"data:image/png;base64,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\" style={{width: '60px'}}></img>\r\n\r\n                    </div>\r\n                    <div className=\"col-10\">\r\n                    {this.props.onProfilePage ? this.props.postData.user:\r\n                        <Link to={\"/profile/\"+this.props.postData.user} >{this.props.postData.user}</Link>\r\n                    }\r\n                    \r\n                        \r\n                    </div>\r\n                    </div>\r\n                <div className=\"row justify-content-center\">\r\n                \r\n                <img className=\"images\" src={this.image} />\r\n\r\n                </div>\r\n                <div className=\"row\">\r\n                    <hr size=\"2px\"></hr>\r\n                </div>\r\n                <div className=\"row bottomHalf\">\r\n                    <div className=\"col-1\">\r\n                    <FontAwesomeIcon className=\"like\" icon={this.state.isLiked? faHeartSolid : faHeart} size=\"2x\"  onClick={(e)=> this.handleLike(e)}/>\r\n                    </div>\r\n                    <div className=\"col-1\">\r\n                    <FontAwesomeIcon className=\"like\" icon={this.state.isCommented? faCommentSolid : faComment} size=\"2x\" onClick={(e)=> this.handleComment(e)}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"col pl-4\">\r\n                    {this.props.postData.votes} Likes\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"col pl-4\">\r\n                {this.props.postData.user}: {this.props.postData.text}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport PostView from \"./postView.component\";\r\nimport \"./homePage.css\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class HomePage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isAllContent: true,\r\n            GoToCommentPage:false,\r\n            SelectedPost:\"\",\r\n            posts: [],\r\n            prevDataFromParent: null,\r\n            postIds:[]\r\n        \r\n        \r\n        };\r\n    \r\n        // This binding is necessary to make `this` work in the callback\r\n        this.FeedSwitch = this.FeedSwitch.bind(this);\r\n        this.OnGoToCommentsButtonClicked=this.OnGoToCommentsButtonClicked.bind(this);\r\n      }\r\n      componentDidMount() {\r\n        console.log(\"on the home page\")\r\n        \r\n        //this.props.socketHandler(\"HomePage\");\r\n        this.getPosts();\r\n      }\r\n\r\n    componentWillUnmount(){\r\n        console.log(\"leaving the Home page\")\r\n            \r\n        }\r\n\r\n        static getDerivedStateFromProps(props, state) {\r\n            // Any time the current user changes,\r\n            // Reset any parts of state that are tied to that user.\r\n            // In this simple example, that's just the email.\r\n            const {posts} =state;\r\n            console.log(\"Yo boii this is it\");\r\n            console.log(posts);\r\n            \r\n            if (props.dataFromParent !== state.prevDataFromParent) {\r\n                if(/* state.postIds.includes(props.dataFromParent.id) */ true){\r\n                    if(props.dataFromParent.updateType===\"vote\"){\r\n                        console.log(\"Yo we not updating the posts yea\");\r\n                        const {posts} =state;\r\n                        console.log(posts);\r\n                        if(posts.length!==0){\r\n                            const i=posts.findIndex((x)=> x._id===props.dataFromParent.id);\r\n                            console.log(\"the value of i is: \"+i);\r\n                            const postToUpdate= posts[i];\r\n    \r\n                            postToUpdate.votes=props.dataFromParent.vote;\r\n                            postToUpdate.voters=props.dataFromParent.voters;\r\n                            posts[i]=postToUpdate;\r\n    \r\n                            \r\n    \r\n                            /* const {comments} = state;\r\n                            comments.push(props.dataFromParent.vote);\r\n                            console.log(\"weupdating state\"); */\r\n                            //state.comments.push(props.dataFromParent.comment);\r\n                            return {\r\n                                prevDataFromParent: props.dataFromParent,\r\n                                posts:posts\r\n                              };\r\n                        }\r\n                        else{\r\n                           return{};\r\n                        }\r\n                        \r\n                    }\r\n                    else if(props.dataFromParent.updateType===\"post\"){\r\n                        console.log(\"Yo we updating the posts yea\");\r\n                        const {posts} =state;\r\n                        \r\n                        posts.push(props.dataFromParent.post);\r\n                        \r\n\r\n                        \r\n\r\n                        \r\n\r\n                        /* const {comments} = state;\r\n                        comments.push(props.dataFromParent.vote);\r\n                        console.log(\"weupdating state\"); */\r\n                        //state.comments.push(props.dataFromParent.comment);\r\n                        return {\r\n                            prevDataFromParent: props.dataFromParent,\r\n                            posts:posts\r\n                          };\r\n                    }\r\n                }\r\n             \r\n            }\r\n            return null;\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n      getPosts(){\r\n\r\n        //clear before adding\r\n        this.setState(state => ({\r\n            posts: [],\r\n            postIds: []\r\n          }));\r\n        \r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/posts\",\r\n            {\r\n              method: \"get\"\r\n              \r\n            }\r\n          )\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n                console.log(result);\r\n                var arr =Array.from(result, x=>x._id);\r\n                this.setState(state => ({\r\n                    posts: result,\r\n                    postIds:arr\r\n                  }));\r\n                  this.props.socketHandler(\"homepage\");\r\n                  /* console.log(\"the array is\");\r\n                  console.log(arr);\r\n                var x= JSON.stringify(arr); */\r\n                  \r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error getting Posts\", error); alert(error)});\r\n\r\n    }\r\n\r\n    getPostsFromFollowingFeed(){\r\n        //clear before adding\r\n        this.setState(state => ({\r\n            posts: [],\r\n            postIds: []\r\n          }));\r\n        \r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/fromFollowing\",\r\n            {\r\n              credentials: 'include',\r\n              method: \"get\"\r\n            }\r\n          ).then((res) => res.json())\r\n          .then((result) => {\r\n              console.log(result);\r\n              var arr =Array.from(result, x=>x._id);\r\n              this.setState(state => ({\r\n                  posts: result,\r\n                  postIds:arr\r\n                }));\r\n                \r\n            });\r\n    }                      \r\n        \r\n\r\n\r\n\r\n    FeedSwitch(){\r\n        if(this.state.isAllContent){\r\n            //if it's currently on all content, get the following feed content\r\n            this.getPostsFromFollowingFeed();\r\n        } else{\r\n            //else get all content\r\n            this.getPosts();\r\n        }\r\n        this.setState(state => ({\r\n            isAllContent: !state.isAllContent\r\n          }));\r\n    }\r\n    OnGoToCommentsButtonClicked(postId){\r\n\r\n        this.setState({GoToCommentPage:true,\r\n        SelectedPost: postId});\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if(this.state.GoToCommentPage===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/post/\"+this.state.SelectedPost}\r\n                    />\r\n                )\r\n        }\r\n\r\n        const elems=[\"Cat1\",\"Cat2\",\"Cat3\",\"Cat4\"];\r\n       // const items=[];\r\n        //for(const [index,value] of elems.entries()){\r\n        //    items.push(<PostView OnGoToCommentsButtonClicked={this.OnGoToCommentsButtonClicked}/>);\r\n        //}\r\n        return (\r\n            <div className=\"Container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                \r\n                </div>\r\n                <div className=\"col-6\">\r\n                \r\n                <div className=\"Container\">\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                        <ul className=\"nav nav-pills nav-fill\">\r\n                        <li className={this.state.isAllContent ? 'nav-item nav-link active tab' : 'nav-item nav-link tab'} onClick={(e)=> this.FeedSwitch(e)}>\r\n                            All Content\r\n                        </li>\r\n                        <li className={this.state.isAllContent ? 'nav-item nav-link tab' : 'nav-item nav-link active tab'} onClick={(e)=> this.FeedSwitch(e)}>\r\n                            Following Feed\r\n                        </li>\r\n                        \r\n                        </ul>\r\n                        </div>\r\n                    \r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                        {this.state.posts.map(item => (\r\n                                     <PostView key={item._id} postId={item._id} postData={item} OnGoToCommentsButtonClicked={this.OnGoToCommentsButtonClicked}/>\r\n                                    ))}\r\n                        \r\n                        </div>\r\n                    \r\n                    \r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n                \r\n                \r\n                \r\n\r\n\r\n\r\n                </div>\r\n                <div className=\"col-3\">\r\n                \r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport PostView from \"./postView.component\";\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class ProfilePage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isFollowing: false,\r\n            posts: [],\r\n            userNotFound:false,\r\n            loading:true\r\n            };\r\n    \r\n        // This binding is necessary to make `this` work in the callback\r\n        this.handleFollow = this.handleFollow.bind(this);\r\n        this.OnGoToCommentsButtonClicked=this.OnGoToCommentsButtonClicked.bind(this);\r\n      }\r\n\r\n    handleFollow(){\r\n          //localhost:3000/users/toggleFollow/jacobTesterman2\r\n          fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/toggleFollow/\"+this.state.profileUsername,\r\n              {\r\n                credentials: 'include',\r\n                method: \"post\"\r\n              }\r\n            ).then((res) => res.json())\r\n            .then((result) => { \r\n              if (result.status == \"success\"){\r\n                console.log(\"toggled successfully\");\r\n                this.setState(state => ({\r\n                  isFollowing: !this.state.isFollowing,\r\n                }));\r\n              }\r\n              else{\r\n                console.log(result);\r\n                console.log(\"toggle unsuccessful\");\r\n              }\r\n            }\r\n          ).catch((error) => {alert(\"Error. Maybe try logging in?\", error)});\r\n  \r\n    }\r\n\r\n    OnGoToCommentsButtonClicked(postId){\r\n\r\n        this.setState({GoToCommentPage:true,\r\n        SelectedPost: postId});\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        console.log(\"on the profile page\")\r\n        //dthis.props.socketHandler(\"ProfilePage\");\r\n        const { profileUsername } = this.props.match.params\r\n        let setIsFollowing = this.setIsFollowing(profileUsername);\r\n        this.setState(state => ({\r\n            profileUsername: profileUsername,\r\n          }));\r\n        this.getPosts(profileUsername);\r\n      }\r\n\r\n    setIsFollowing(profileUsername) {\r\n            fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/amIFollowing/\"+profileUsername,\r\n              {\r\n                credentials: 'include',\r\n                method: \"get\"\r\n              }\r\n            ).then((res)=>{ return res.json() }).then((text)=>{\r\n              this.setState(state => ({\r\n                isFollowing: text.following,\r\n              }));\r\n          }).catch((error) => {alert(\"ERROR\");this.state.isFollowing = false});\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        console.log(\"leaving the profile page\")\r\n            \r\n        }\r\n\r\n\r\n\r\n    getPosts(profileUsername){\r\n      \r\n      fetch(\r\n        Constants.config.url[\"API_URL\"]+\"/posts/user/\"+profileUsername,\r\n          {\r\n            method: \"get\"\r\n            \r\n          }\r\n        )\r\n          .then((res) => res.json())\r\n          .then((result) => {\r\n            if(result.status===\"Success\"){\r\n              console.log(result);\r\n              this.setState(state => ({\r\n                  loading:false,\r\n                  userNotFound:false,\r\n                  posts: result.posts\r\n                }));\r\n\r\n                var arr =result.posts;\r\n                var x= JSON.stringify(arr);\r\n                this.props.socketHandler(x);\r\n              \r\n            }\r\n            else{\r\n              this.setState(state =>({\r\n                loading:false,\r\n                userNotFound:true,\r\n              }))\r\n            }\r\n              \r\n            \r\n          })\r\n          .catch((error) => {alert(\"Error getting Posts\", error); alert(error)});\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n       // const elems=[\"Cat1\",\"Cat2\",\"Cat3\",\"Cat4\"];\r\n       // const items=[];\r\n       // for(const [index,value] of elems.entries()){\r\n       //     items.push(<PostView/>);\r\n        //}\r\n        const { profileUsername } = this.props.match.params\r\n\r\n        if(this.state.userNotFound){\r\n          return(\r\n            <div className=\"Container\">User Not Found</div>\r\n          )\r\n        }\r\n        if(this.state.GoToCommentPage===true){\r\n          return(\r\n              <Redirect push\r\n                  to={\"/post/\"+this.state.SelectedPost}\r\n                  />\r\n              )\r\n      }\r\n        return (\r\n            <div className=\"Container\">\r\n              \r\n                \r\n              \r\n                <div className=\"Container\">\r\n                    <div className=\"row\">\r\n                        <div class=\"col-1\">\r\n                                <img src=\"data:image/png;base64,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\" style={{width: '60px'}}></img>\r\n\r\n                            </div>\r\n                        <div className=\"col-1\">{this.state.loading ? \"loading...\" : profileUsername }</div>\r\n\r\n                        <div className=\"col-1\">\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={(e)=> this.handleFollow(e)}>{this.state.isFollowing ? 'Following' : 'Follow'}</button>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n                <div className=\"Container\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-3\">\r\n                    \r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                    \r\n                                    {this.state.loading ? \"Loading\": \r\n                                    \r\n                                      this.state.posts.length===0 ? \"This user doesnt have any posts\" :\r\n                                      this.state.posts.map(item => (\r\n                                        <PostView key={item._id} postId={item._id} postData={item} OnGoToCommentsButtonClicked={this.OnGoToCommentsButtonClicked} onProfilePage={true}/>\r\n                                        ))\r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    }\r\n                    \r\n                                    \r\n\r\n\r\n\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                    \r\n                    </div>\r\n                </div>\r\n                \r\n                </div>\r\n\r\n\r\n                   \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./loginPage.css\"\r\nimport * as Constants from \"../Constants.js\"\r\n\r\nexport default class CreateAccount extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onChangePasswordVerify = this.onChangePasswordVerify.bind(this);\r\n\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            passwordverify: \"\",\r\n            raw: {},\r\n            status: \"\"\r\n        }\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.state.raw['usersignup'] = e.target.value;\r\n        this.setState({\r\n            username: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePassword(e){\r\n        this.state.raw['passwordsignup'] = e.target.value;\r\n        this.setState({\r\n            password: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePasswordVerify(e){\r\n        this.setState({\r\n            passwordverify: e.target.value\r\n        });\r\n    }\r\n\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        if(this.state.password.localeCompare(this.state.passwordverify)){\r\n            alert(\"Passwords do not match\");\r\n        }\r\n        else{\r\n            console.log(JSON.stringify(this.state.raw));\r\n            fetch(Constants.config.url[\"API_URL\"]+'/users/createAccount', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json, text/plain, */*',\r\n                    'Content-Type': 'application/json',\r\n                    'Connection': 'keep-alive'\r\n                },\r\n                body: JSON.stringify(this.state.raw)\r\n            }).then(res=>{\r\n                console.log(res);\r\n                if (res.status == 200){\r\n                    this.setState({\r\n                        status: 'Account ' + this.state.username + '  created successfully!',\r\n                        username: '',\r\n                        password: '',\r\n                        passwordverify: ''\r\n                    })\r\n                }\r\n                else if (res.status == 400){\r\n                    this.setState({\r\n                        status: 'ERROR: Username ' + this.state.username + ' already exists',\r\n                        username: ''\r\n                    })\r\n                }\r\n                else{\r\n                    this.setState({\r\n                        status: 'ERROR: Something went wrong. Please try again.',\r\n                        username: '',\r\n                        password: '',\r\n                        passwordverify: ''\r\n                    })\r\n                }\r\n            });\r\n        } \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ marginTop: 10 }}>\r\n                <h3>Create account:</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Username: </label>\r\n                        <input type=\"username\"\r\n                            className=\"form-control\"\r\n                            onChange={this.onChangeUsername}\r\n                            value = {this.state.username}\r\n\r\n\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password: </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            onChange={this.onChangePassword}\r\n                            value = {this.state.password}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Repeat Password: </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            onChange={this.onChangePasswordVerify}\r\n                            value = {this.state.passwordverify}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group Container\">\r\n                        <div className=\"row\">\r\n                            <button className=\"col-4 btn btn-primary\" type=\"button\" onClick={this.onSubmit}>\r\n                                Create\r\n                            </button>\r\n                            <span style={{marginLeft: 10, marginTop: 7}}>{this.state.status}</span>\r\n\r\n                        </div>\r\n                        <br></br>\r\n\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./postView.css\"\r\nimport \"./postPage.css\"\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faHeart,faComment} from '@fortawesome/fontawesome-free-regular'\r\nimport { faHeart as faHeartSolid, faComment as faCommentSolid } from '@fortawesome/free-solid-svg-icons'\r\nimport {Redirect, useParams} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\n\r\n\r\nimport { s } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default class PostPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {isLiked: false, isCommented: false,\r\n        \r\n            postData: [],\r\n                comments: [],\r\n                goBackToHomePage:false,\r\n                commentInputText: '',\r\n                prevDataFromParent: null,\r\n                goToLogin: false\r\n                \r\n                \r\n        };\r\n\r\n\r\n    \r\n        // This binding is necessary to make `this` work in the callback\r\n        this.handleLike = this.handleLike.bind(this);\r\n        this.handleInputChange2 = this.handleInputChange2.bind(this);\r\n        this.handleComment = this.handleComment.bind(this);\r\n        this.OnPostCommentButtonClicked = this.OnPostCommentButtonClicked.bind(this);\r\n      }\r\n\r\n      componentDidMount() {\r\n        console.log(\"on the Post page\")\r\n        \r\n        const { postId } = this.props.match.params\r\n        this.setState(state => ({\r\n            thepostId: postId\r\n          }));\r\n        this.getPost();\r\n      }\r\n      componentWillUnmount(){\r\n        console.log(\"leaving the Post page\")\r\n            \r\n        }\r\n\r\n        static getDerivedStateFromProps(props, state) {\r\n            // Any time the current user changes,\r\n            // Reset any parts of state that are tied to that user.\r\n            // In this simple example, that's just the email.\r\n            if (props.dataFromParent !== state.prevDataFromParent) {\r\n                if(props.dataFromParent.id===state.thepostId){\r\n                    if(props.dataFromParent.updateType===\"comment\"){\r\n                        const {comments} = state;\r\n                        comments.push(props.dataFromParent.comment);\r\n                        console.log(\"weupdating state\");\r\n                        //state.comments.push(props.dataFromParent.comment);\r\n                        return {\r\n                            prevDataFromParent: props.dataFromParent,\r\n                            comments:comments\r\n                          };\r\n                    }\r\n                    else if(props.dataFromParent.updateType===\"vote\"){\r\n                        const {postData} = state;\r\n                        postData.votes=props.dataFromParent.vote;\r\n                        postData.voters=props.dataFromParent.voters;\r\n                        return {\r\n                            prevDataFromParent: props.dataFromParent,\r\n                            postData: postData\r\n                          };\r\n                    }\r\n                }\r\n             \r\n            }\r\n            return null;\r\n          }\r\n\r\n\r\n      /*componentDidUpdate(prevProps){\r\n        if (this.props.dataFromParent !== prevProps.dataFromParent) {\r\n            if(this.props.dataFromParent.id===this.state.thepostId){\r\n                if(this.props.dataFromParent.updateType===\"comment\"){\r\n                    this.state.comments.push(this.props.dataFromParent.comment);\r\n                }\r\n            }\r\n          }\r\n      }*/\r\n\r\n      \r\n    handleInputChange2(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value\r\n        });\r\n      }\r\n\r\n      handleLike(){\r\n        if(!sessionStorage.getItem(\"username\")){\r\n            this.setState({\r\n                goToLogin: true\r\n            })\r\n        }\r\n        else{\r\n            const { postId } = this.props.match.params;\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/posts/upvote/\"+postId,\r\n            {\r\n                credentials: 'include',\r\n               // mode: \"same-origin\",\r\n              method: \"post\",\r\n              headers: {\r\n                'Content-Type': 'application/json'}\r\n            }\r\n          )\r\n            .then((res) => res.text())\r\n            .then((result) => {\r\n                console.log(\"we smashed that like button and  got\");\r\n                console.log(result);\r\n                \r\n                \r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error getting ProfileData\", error); alert(error)});\r\n        \r\n\r\n\r\n         this.setState(state => ({\r\n            isLiked: !state.isLiked\r\n          })); \r\n        }\r\n\r\n        \r\n    }\r\n\r\ngetPost(){\r\n    const { postId } = this.props.match.params\r\n    fetch(\r\n        Constants.config.url[\"API_URL\"]+\"/posts/\"+postId,\r\n        {\r\n          method: \"get\"\r\n          \r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n            console.log(result);\r\n            this.setState(state => ({\r\n                postData: result,\r\n                comments: result.comments\r\n              }));\r\n\r\n            \r\n              if(result.voters[sessionStorage.getItem(\"username\")]===\"upvote\"){\r\n            \r\n                \r\n                this.setState(state => ({\r\n                    isLiked:true\r\n                  }));\r\n            \r\n                }\r\n                else{\r\n            \r\n                    this.setState(state => ({\r\n                        isLiked:false\r\n                      }));\r\n           \r\n                }\r\n\r\n\r\n\r\n              var arr =[postId];\r\n              var x= JSON.stringify(arr);\r\n              this.props.socketHandler(x);\r\n          \r\n        })\r\n        .catch((error) => {alert(\"Error getting PostData\", error); alert(error)});\r\n\r\n\r\n\r\n\r\n}\r\nhandleComment(){\r\n    this.setState(state => ({\r\n       goBackToHomePage:true\r\n      }));\r\n    }\r\n\r\n    OnPostCommentButtonClicked(){\r\n        if(!sessionStorage.getItem(\"username\")){\r\n            this.setState({\r\n                goToLogin: true\r\n            })\r\n        }\r\n        else{\r\n            const { postId } = this.props.match.params\r\n            fetch(\r\n                Constants.config.url[\"API_URL\"]+\"/posts/comment/\"+postId,\r\n                {\r\n                    credentials: 'include',\r\n                   // mode: \"same-origin\",\r\n                  method: \"post\",\r\n                  headers: {\r\n                    'Content-Type': 'application/json'},\r\n                    \r\n                  body: JSON.stringify({\r\n                    \r\n                    \"text\": this.state.commentInputText\r\n                  }),\r\n                }\r\n              )\r\n                .then((res) => res.text())\r\n                .then((result) => {\r\n                    console.log(result);\r\n                    /* this.setState(state => ({\r\n                        isCommented: !state.isCommented\r\n                      })); */\r\n                    \r\n                  \r\n                })\r\n                .catch((error) => {alert(\"Error getting ProfileData\", error); alert(error)});\r\n        }\r\n        \r\n        }\r\n\r\n\r\n        \r\n    \r\n\r\n\r\n    render() {\r\n        if(this.state.goBackToHomePage===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/\"}\r\n                    />\r\n                )\r\n        }\r\n        else if(this.state.goToLogin===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/login\"}\r\n                    />\r\n                )\r\n        }\r\n\r\n        //////Assigning default image to jesseerror404 if not found/////////\r\n        var image;\r\n        if(this.state.postData.src != undefined){\r\n            this.image = Constants.config.url[\"API_URL\"]+\"/\"+this.state.postData.src\r\n        }else{\r\n            this.image = Constants.config.url[\"API_URL\"]+\"/images/error404.jpg\"\r\n        }\r\n        ////////////////////////////////////////////////////////////        \r\n\r\n        return (\r\n            \r\n            <div className=\"container postContainer\">\r\n                <div className=\"row\">\r\n                <div  className=\"col-7\">\r\n                <div className=\"container\">\r\n                <div className=\"row\">\r\n                \r\n                    <div className=\"col-2\">\r\n                        <img src=\"data:image/png;base64,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\" style={{width: '60px'}}></img>\r\n\r\n                    </div>\r\n                    <div className=\"col-10\">\r\n                        {this.state.postData.user}\r\n                    </div>\r\n                    </div>\r\n                <div className=\"row justify-content-center\">\r\n                \r\n                <img className=\"images\" src={this.image} />\r\n\r\n                </div>\r\n                <div className=\"row\">\r\n                    <hr size=\"2px\"></hr>\r\n                </div>\r\n                <div className=\"row bottomHalf\">\r\n                    <div className=\"col-1\">\r\n                    <FontAwesomeIcon className=\"like\" icon={this.state.isLiked? faHeartSolid : faHeart} size=\"2x\"  onClick={(e)=> this.handleLike(e)}/>\r\n                    </div>\r\n                    <div className=\"col-1\">\r\n                    <FontAwesomeIcon className=\"like\" icon={faCommentSolid/* this.state.isCommented? faCommentSolid : faComment */} size=\"2x\" onClick={(e)=> this.handleComment(e)}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"col\">\r\n                {this.state.postData.votes}  Likes\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"col\">\r\n                    {this.state.postData.user}: {this.state.postData.text}\r\n                    </div>\r\n                </div>\r\n                </div>\r\n                </div>\r\n                <div  className=\"col-5\">\r\n                <div className=\"container fill  CommentSection border\">\r\n                    <div className=\"row TopCommentSection border-bottom\" >\r\n                            <div className=\"col d-flex justify-content-center align-items-center\">\r\n                            \r\n                            <h2>Comment Section</h2>\r\n\r\n                            </div>\r\n                    </div>\r\n                    <div className=\"row CommentFeed overflow-auto\">\r\n                        <div className=\"col noPad \">\r\n                            \r\n                            <ul className=\"list-group list-group-flush\">\r\n                                    {this.state.comments.map(item => (\r\n                                     <li className=\"list-group-item text-wrap text-break\" key={item._id}>{item.user}: {item.text}</li>\r\n                                    ))}\r\n                                \r\n                               \r\n                            </ul>\r\n\r\n\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row BottomCommentSection border-top\" >\r\n                        <div className=\"col d-flex justify-content-center align-items-center\">\r\n                            \r\n                            {/*<div className=\"d-flex justify-content-center align-items-center align-self-center\">*/}\r\n                                <div className=\"input-group mb-3 noPad noMar\">\r\n                                    <input type=\"text\" class=\"form-control\" name=\"commentInputText\" aria-label=\"Text input with segmented dropdown button for commenting\" placeholder=\"Comment Here\"  aria-describedby=\"button-addon2\" value={this.state.commentInputText} onChange={this.handleInputChange2}/>\r\n                                    \r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-primary\" type=\"button\" id=\"button-addon2\" onClick={(e) => this.OnPostCommentButtonClicked(e)}>Post</button>\r\n                                    </div>\r\n                                </div>\r\n                                {/* </div>*/}\r\n\r\n                            </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport * as Constants from \"../Constants.js\";\r\nimport {Redirect, useParams} from 'react-router-dom';\r\nexport default class LogoutPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isLoggedOut: false};\r\n        \r\n    \r\n        \r\n\r\n        // This binding is necessary to make `this` work in the callback\r\n        this.goLogout=this.goLogout.bind(this);\r\n      }\r\n    componentDidMount(){\r\n        this.goLogout();\r\n    }\r\n\r\n    goLogout(){\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/logout\",\r\n              {\r\n                method: \"get\",\r\n                credentials: 'include'\r\n              }\r\n            )\r\n              .then((res) => res.json())\r\n              .then((result) => {\r\n                if(result.status===\"Success\"){\r\n                  console.log(result);\r\n                  this.props.SuccesfullLogoutCallback();\r\n                  this.setState({isLoggedOut:true})\r\n                    \r\n                  \r\n                }\r\n                else{\r\n                    this.setState({goToLoginPage:true})\r\n                }\r\n                  \r\n                \r\n              })\r\n              .catch((error) => {alert(\"Error getting Posts\", error); alert(error)});\r\n    }\r\n      render() {\r\n          if(this.state.isLoggedOut){\r\n              return(<Redirect push to={\"/\"} />)\r\n          }\r\n          else if(this.state.goToLoginPage){\r\n            return(<Redirect push to={\"/login\"} />)\r\n            }\r\n          else{\r\n              return(<div>Loading</div>)\r\n          }\r\n\r\n      }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route, Link, useLocation, Redirect } from \"react-router-dom\";\r\n\r\nimport { Chat } from 'react-chat-popup';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.css\";\r\nimport ReactDOM from 'react-dom'\r\nimport DirectMessaging from \"./components/directmessaging/DirectMessaging\"\r\nimport CreatePost from \"./components/create-post.component\";\r\nimport CreateLogin from \"./components/create-login.component\";\r\n\r\nimport openSocket from 'socket.io-client';\r\nimport HomePage from \"./components/HomePage.component\";\r\nimport ProfilePage from \"./components/ProfilePage.component\";\r\nimport CreateAccount from \"./components/create-account.component\";\r\nimport PostPage from \"./components/postPage.component\";\r\nimport LogoutPage from \"./components/logoutPage.component\";\r\nimport logo from \"./logo.svg\";\r\nimport * as Constants from \"./Constants.js\"\r\n\r\nconst socket = openSocket(Constants.config.url[\"API_URL\"]+'/',{transports: ['websocket']});\r\nconst secureSocket=openSocket(Constants.config.url[\"API_URL\"]+'/chat',{transports: ['websocket']});\r\n\r\nclass App extends Component {\r\n\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data:\"\",\r\n      isLoggedIn:false,\r\n      newMessage: \"\"\r\n    };\r\n\r\n    // This binding is necessary to make `this` work in the callback\r\n    this.sendSocketIO = this.sendSocketIO.bind(this);\r\n    this.apples= this.apples.bind(this);\r\n    this.onAuthenticate=this.onAuthenticate.bind(this);\r\n    this.onChatUpdate=this.onChatUpdate.bind(this);\r\n    this.SuccesfullLoginCallback= this.SuccesfullLoginCallback.bind(this);\r\n    this.SuccesfullLogoutCallback= this.SuccesfullLogoutCallback.bind(this);\r\n    this.getCookie=this.getCookie.bind(this);\r\n    \r\n    socket.on('update', this.apples)\r\n    secureSocket.on('authenticate', this.onAuthenticate);\r\n    secureSocket.on('chatUpdate', this.onChatUpdate);\r\n  }\r\n\r\n  socketUpdateHandler=(a)=>{\r\n    this.sendSocketIO(a);\r\n  }\r\n  \r\napples(msg){\r\n  console.log(msg);\r\n  this.setState(state => ({\r\n    data:msg\r\n  }))\r\n}\r\nonAuthenticate(msg){\r\n  console.log(msg);\r\n  if(msg===\"login successful!\"){\r\n    console.log(\"We successfully authenticated on the secure socket\")\r\n  }\r\n\r\n}\r\nonChatUpdate(msg){\r\n  this.setState({\r\n    newMessage: msg\r\n  })\r\n}\r\n\r\ncomponentDidMount(){\r\n//this.sendSocketIO(\"waddup\");\r\nthis.checkIfLoggedIn();\r\nthis.onRouteChanged();\r\n}\r\n\r\nsendSocketIO(s) {\r\n  if(s===\"homepage\"){\r\n    console.log(\"yo we sending without the listento\")\r\n    socket.emit(s);\r\n  }\r\n  else{\r\n    socket.emit('listenTo', s);\r\n  }\r\n  \r\n}\r\ngetCookie(cname){\r\n  var name = cname + \"=\";\r\n  var decodedCookie = decodeURIComponent(document.cookie);\r\n  var ca = decodedCookie.split(';');\r\n  for(var i = 0; i <ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) == ' ') {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) == 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n\r\ncheckIfLoggedIn(){\r\n  fetch(\r\n    Constants.config.url[\"API_URL\"]+\"/users/whoamI\",\r\n      {\r\n        method: \"get\",\r\n        credentials: 'include'\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if(result.status===\"Success\"){\r\n          console.log(result);\r\n          this.setState(state => ({\r\n              loading:false,\r\n              isLoggedIn:true\r\n              \r\n              \r\n            }));\r\n            var myAuth=this.getCookie(\"authToken\");\r\n            var p= {\r\n              \"username\": result.username,\r\n              \"authToken\": myAuth\r\n            }\r\n            //console.log(p);\r\n            secureSocket.emit('authenticate', p)\r\n            \r\n          \r\n        }\r\n        else{\r\n          \r\n        }\r\n          \r\n        \r\n      })\r\n      .catch((error) => {alert(\"Error getting Posts\", error); alert(error)});\r\n}\r\n\r\nSuccesfullLoginCallback(username){\r\n\r\n            fetch(\r\n              Constants.config.url[\"API_URL\"]+\"/users/whoamI\",\r\n                {\r\n                  method: \"get\",\r\n                  credentials: 'include'\r\n                }\r\n              )\r\n                .then((res) => res.json())\r\n                .then((result) => {\r\n                  if(result.status===\"Success\"){\r\n                    console.log(result);\r\n                    this.setState(state => ({\r\n                        loading:false,\r\n                        isLoggedIn:true,\r\n                        \r\n                        \r\n                      }));\r\n                      var myAuth=this.getCookie(\"authToken\");\r\n                      var p= {\r\n                        \"username\": result.username,\r\n                        \"authToken\": myAuth\r\n                      }\r\n                      //console.log(p);\r\n                      secureSocket.emit('authenticate', p)\r\n                      \r\n                    \r\n                  }\r\n                  else{\r\n                    \r\n                  }\r\n                    \r\n                  \r\n                })\r\n                .catch((error) => {alert(\"Error getting checking if logged in\", error); alert(error)});\r\n\r\n  \r\n  this.setState({\r\n    isLoggedIn:true\r\n  })\r\n}\r\nSuccesfullLogoutCallback(){\r\n  this.setState({\r\n    isLoggedIn:false\r\n  })\r\n}\r\n\r\n\r\ncomponentDidUpdate(prevProps, prevState) {\r\n  console.log(\"route dh\");\r\nthis.onRouteChanged();\r\n}\r\nonRouteChanged() {\r\n  console.log(\"ROUTE CHANGED\");\r\n}\r\n\r\n\r\n  render() {\r\n    //this.sendSocketIO(\"FirstField\",\"waddup\");\r\n    return (\r\n      <Router >\r\n        <div className=\"container MainContainerBG\">\r\n          <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n            <a class=\"navbar-brand\" href=\"#\" target=\"_blank\">\r\n              <img src={logo} width=\"30\" height=\"30\" alt=\"Our Logo\" />\r\n            </a>\r\n            <Link to=\"/\" className=\"navbar-brand\">CatRatMatSocket</Link>\r\n            <div className=\"collpase navbar-collapse\">\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"navbar-item\">\r\n                  <Link to=\"/\" className=\"nav-link\">Home</Link>\r\n                </li>\r\n                <li className=\"navbar-item\">\r\n                 {this.state.isLoggedIn ?\r\n                  <Link to={\"/profile/\"+sessionStorage.getItem(\"username\")} className=\"nav-link\">Profile</Link> : <div></div>}\r\n                </li>\r\n                <li className=\"navbar-item\">\r\n                {this.state.isLoggedIn ?\r\n                  <Link to=\"/create\" className=\"nav-link\">Create Post</Link> : <div></div>}\r\n                </li>\r\n                <li className=\"navbar-item\">\r\n                  {this.state.isLoggedIn ? <Link to=\"/logout\" className=\"nav-link\">Logout</Link> :\r\n                    <Link to=\"/login\" className=\"nav-link\">Login</Link>\r\n                  }\r\n                </li>\r\n\r\n                {this.state.isLoggedIn ? <div className=\"navbar-item nav-link navbar-right\" style={{float:\"right\"}}>Welcome, {sessionStorage.getItem(\"username\")}</div> : <div></div>}\r\n              </ul>\r\n            </div>\r\n          </nav>\r\n          <br />\r\n        \r\n          <Route path=\"/\" exact >\r\n                <HomePage socketHandler={this.socketUpdateHandler}  dataFromParent={this.state.data} ></HomePage>\r\n            </Route> \r\n          <Route path=\"/Profile/:profileUsername\" exact  render={\r\n              (props) => <ProfilePage  {...props} socketHandler={this.socketUpdateHandler} dataFromParent={this.state.data} ></ProfilePage>\r\n          }\r\n                 >\r\n            </Route> \r\n          <Route path=\"/create\" >\r\n                {this.state.isLoggedIn ? <CreatePost socketHandler={this.socketUpdateHandler} ></CreatePost> :\r\n                          <Redirect to={'/login'} />\r\n                        }\r\n                \r\n            </Route> \r\n          <Route path=\"/login\">\r\n                <CreateLogin socketHandler={this.socketUpdateHandler} SuccesfullLoginCallback={this.SuccesfullLoginCallback} ></CreateLogin>\r\n            </Route> \r\n            <Route path=\"/logout\">\r\n                <LogoutPage socketHandler={this.socketUpdateHandler} SuccesfullLogoutCallback={this.SuccesfullLogoutCallback} ></LogoutPage>\r\n            </Route> \r\n          <Route path=\"/createAccount\" >\r\n                <CreateAccount socketHandler={this.socketUpdateHandler} ></CreateAccount>\r\n            </Route> \r\n          <Route path=\"/post/:postId\" render={(props) => <PostPage {...props} socketHandler={this.socketUpdateHandler}  dataFromParent={this.state.data}></PostPage>} >\r\n                \r\n            </Route> \r\n            {this.state.isLoggedIn ? <DirectMessaging onNewMessage={this.state.newMessage}/> :<div/>}\r\n          \r\n\r\n          {/* <Chat\r\n            handleNewUserMessage={this.handleNewUserMessage}\r\n          /> */}\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";"],"sourceRoot":""}