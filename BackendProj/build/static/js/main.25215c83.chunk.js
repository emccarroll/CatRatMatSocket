(this.webpackJsonp312project=this.webpackJsonp312project||[]).push([[0],{123:function(e,t,a){},153:function(e,t){},158:function(e,t,a){},159:function(e,t,a){},160:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(43),r=a.n(o),i=(a(78),a(3)),l=a(4),c=a(6),u=a(5),m=a(2),d=a(7),g=a(9),h=a(20),p=(a(79),a(122),a(123),{url:{API_URL:""}}),f=(a(28),function(e){function t(e){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("ul",{className:"list-group width100 overflow-auto"},this.props.isLoading?s.a.createElement("div",null,"Loading"):Object.keys(this.props.conversations).map((function(t){return s.a.createElement("li",{key:t,onClick:function(){return e.props.goToChatView(t)},className:"list-group-item pointer text-wrap text-break"},t)})))}}]),t}(n.Component)),v=a(22),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={DMInputText:""},a.handleInputChange=a.handleInputChange.bind(Object(m.a)(a)),a.OnPostDMButtonClicked=a.OnPostDMButtonClicked.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(v.a)({},n,a))}},{key:"OnPostDMButtonClicked",value:function(){this.props.OnPostDMButtonClicked(this.state.DMInputText),this.setState({DMInputText:""})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"d-flex flex-column"},s.a.createElement("div",{className:"CommentFeed overflow-auto"},s.a.createElement("ul",{className:"list-group width100   list-group-flush overflow-auto maxH"},this.props.isLoading?s.a.createElement("div",null,"Loading"):this.props.messages.map((function(e){return s.a.createElement("li",{key:e.message,className:"list-group-item pointer text-wrap text-break"},e.message)})))),s.a.createElement("div",{className:"border-top "},s.a.createElement("div",{className:"d-flex justify-content-center align-items-center"},s.a.createElement("div",{className:"input-group mb-3 noPad noMar"},s.a.createElement("input",{type:"text",class:"form-control",name:"DMInputText","aria-label":"Text input with segmented dropdown button for commenting",placeholder:"Comment Here","aria-describedby":"button-addon2",value:this.state.DMInputText,onChange:this.handleInputChange}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-outline-primary",type:"button",id:"button-addon2",onClick:function(){return e.props.OnPostDMButtonClicked(e.state.DMInputText)}},"Post"))))))}}]),t}(n.Component),C=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:"",showModal:!1,messages:[],isLoading:!0,onNewMessage:null,messageMap:null,username:""},a.goToChatView=a.goToChatView.bind(Object(m.a)(a)),a.OnPostDMButtonClicked=a.OnPostDMButtonClicked.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.whoAmI()}},{key:"toggleModal",value:function(){this.setState({showModal:!this.state.showModal})}},{key:"componentDidUpdate",value:function(e){var t=this.props.onNewMessage,a=this.state,n=a.messageMap,s=a.messages;e.onNewMessage!==t&&(console.log("yea yea"),e.onNewMessage.fromUser===this.state.username&&e.onNewMessage.toUser===this.state.username?n[e.onNewMessage.fromUser]?n[e.onNewMessage.fromUser].push(e.onNewMessage):n[e.onNewMessage.fromUser]=[e.onNewMessage]:e.onNewMessage.fromUser===this.state.username&&e.onNewMessage.toUser!==this.state.username?n[e.onNewMessage.toUser]?(n[e.onNewMessage.toUser].push(e.onNewMessage),console.log("yea man its me2")):n[e.onNewMessage.toUser]=[e.onNewMessage]:e.onNewMessage.fromUser!==this.state.username&&e.onNewMessage.toUser===this.state.username?n[e.onNewMessage.fromUser]?(n[e.onNewMessage.fromUser].push(e.onNewMessage),console.log("yea man its me")):n[e.onNewMessage.fromUser]=[e.onNewMessage]:(console.log(e.onNewMessage.fromUser!==this.state.username),console.log(e.onNewMessage.toUser===this.state.username),console.log(e),console.log(e.onNewMessage.toUser),console.log(this.state.username),console.log("non of the above dawg")),s.push(t),this.setState({messages:s,messageMap:n}))}},{key:"whoAmI",value:function(){var e=this;fetch(p.url.API_URL+"/users/whoamI",{method:"get",credentials:"include"}).then((function(e){return e.json()})).then((function(t){"Success"===t.status&&(console.log(t),e.setState((function(e){return{loading:!1,username:t.username}})),e.getAllMessages())})).catch((function(e){alert("Error getting checking if logged in",e),alert(e)}))}},{key:"filterMessages",value:function(e){console.log(e);for(var t=new Object,a=0;a<e.length;a++){var n=e[a];console.log("the user from this message is "+n.user),n.fromUser===this.state.username&&n.toUser===this.state.username?t[n.fromUser]?t[n.fromUser].push(n):t[n.fromUser]=[n]:n.fromUser===this.state.username&&n.toUser!==this.state.username?t[n.toUser]?t[n.toUser].push(n):t[n.toUser]=[n]:n.fromUser!==this.state.username&&n.toUser===this.state.username&&(t[n.fromUser]?t[n.fromUser].push(n):t[n.fromUser]=[n])}this.setState({isLoading:!1,messageMap:t})}},{key:"getAllMessages",value:function(){var e=this;fetch(p.url.API_URL+"/chat/getMessages",{method:"get",credentials:"include"}).then((function(e){return e.json()})).then((function(t){console.log(t),"success"===t.Status&&e.setState({messages:t.messages}),e.filterMessages(t.messages)})).catch((function(e){alert("Error getting DMS",e),alert(e)}))}},{key:"goToChatView",value:function(e){console.log("going to chat with"+e),this.setState({showChatView:!0,openConvoWith:e})}},{key:"OnPostDMButtonClicked",value:function(e){console.log("the message text is: "+e),fetch(p.url.API_URL+"/chat/message",{method:"post",credentials:"include",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.openConvoWith,message:e})}).then((function(e){return e.json()})).then((function(e){console.log(e),e.Status})).catch((function(e){alert("Error getting DMS",e),alert(e)}))}},{key:"render",value:function(){return s.a.createElement("div",{className:"ChatWindow Container-fluid justify-content-center"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12 text-center "},s.a.createElement("div",{className:"Container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-2"}),s.a.createElement("div",{className:"col-8"},s.a.createElement("h4",null,"Direct Messaging")),s.a.createElement("div",{className:"col-2"}))))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},this.state.showChatView?s.a.createElement(E,{isLoading:this.state.isLoading,OnPostDMButtonClicked:this.OnPostDMButtonClicked,messages:this.state.messageMap[this.state.openConvoWith]}):s.a.createElement("ul",{className:"list-group width100 overflow-auto"},s.a.createElement(f,{isLoading:this.state.isLoading,conversations:this.state.messageMap,goToChatView:this.goToChatView})))))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={data:"",showModal:!1,onNewMessage:null},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"toggleModal",value:function(){this.setState({showModal:!this.state.showModal})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",null,this.state.showModal?s.a.createElement(C,{onNewMessage:this.props.onNewMessage}):s.a.createElement("div",null),s.a.createElement("div",{className:"FloatingActionButton",onClick:function(t){return e.toggleModal()}},s.a.createElement("h2",{className:"FabText"},"Dm's")))}}]),t}(n.Component),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onChangePostFile=function(e){if(e.target.value.length>0){var t=e.target.files[0],n=t.name;console.log(t),a.setState({image_obj:t,image_name:n})}else console.log("cancel was clicked")},a.onChangePostDescription=a.onChangePostDescription.bind(Object(m.a)(a)),a.onChangePostFile=a.onChangePostFile.bind(Object(m.a)(a)),a.onSubmit=a.onSubmit.bind(Object(m.a)(a)),a.state={image_obj:null,image_name:"Select image",image_description:"",upload_progress:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onChangePostDescription",value:function(e){this.setState({image_description:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("Form submitted:");var a=new FormData;a.append("file",this.state.image_obj),a.append("text",this.state.image_description);fetch(p.url.API_URL+"/posts/add",{credentials:"include",method:"POST",body:a}).then((function(e){return e.text()})).then((function(e){console.log(e),e.includes("post added")?(console.log("Upload complete!"),t.setState({upload_progress:"Upload Successful"})):e.includes("invalid authentication token")?(console.log("Upload failed"),t.setState({upload_progress:"Upload Failed. Please log in and try again."})):(console.log("Upload failed"),t.setState({upload_progress:"Upload failed. Please try again."})),t.setState({image_description:"",image_obj:null,image_name:"Choose image"})}))}},{key:"render",value:function(){return s.a.createElement("div",{style:{marginTop:10}},s.a.createElement("h3",null,"Create Post"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Description: "),s.a.createElement("input",{type:"text",className:"form-control",value:this.state.image_description,onChange:this.onChangePostDescription})),s.a.createElement("div",{class:"form-group custom-file"},s.a.createElement("input",{type:"file",class:"custom-file-input",id:"customFile",value:this.state.Post_file,onChange:this.onChangePostFile}),s.a.createElement("label",{class:"custom-file-label",for:"customFile"},this.state.image_name)),s.a.createElement("div",{className:"submit-upload",style:{marginTop:10}},s.a.createElement("input",{type:"submit",value:"Create Post",className:"btn btn-primary"}),s.a.createElement("span",{style:{marginLeft:10}},this.state.upload_progress))))}}]),t}(n.Component),y=(a(54),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSubmit=a.onSubmit.bind(Object(m.a)(a)),a.handleInputChange=a.handleInputChange.bind(Object(m.a)(a)),a.state={username:"",password:"",goToHomePage:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleInputChange",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(v.a)({},n,a))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),console.log("chicken"),fetch(p.url.API_URL+"/users/login",{credentials:"include",method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:this.state.username,password:this.state.password})}).then((function(e){return e.text()})).then((function(e){"login correct"===e&&(sessionStorage.setItem("username",t.state.username),t.props.SuccesfullLoginCallback(t.state.username),t.setState((function(e){return{goToHomePage:!0}}))),console.log(e)})).catch((function(e){alert("Error Logging In",e),alert(e)}))}},{key:"render",value:function(){return!0===this.state.goToHomePage?s.a.createElement(h.a,{push:!0,to:"/"}):s.a.createElement("div",{style:{marginTop:10}},s.a.createElement("h3",null,"Login:"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Username: "),s.a.createElement("input",{name:"username",type:"username",className:"form-control",value:this.state.username,onChange:this.handleInputChange})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Password: "),s.a.createElement("input",{name:"password",type:"password",className:"form-control",value:this.state.password,onChange:this.handleInputChange})),s.a.createElement("div",{className:"form-group Container"},s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"col-4 btn btn-primary",type:"button"},"Forgot Password?"),s.a.createElement("div",{className:"col"}),s.a.createElement("button",{className:"col-4 btn btn-primary",type:"submit"},"Login")),s.a.createElement("br",null),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"}),s.a.createElement(g.b,{className:"col-5 btn btn-primary",to:"/createAccount"},"Create Account"),s.a.createElement("div",{className:"col"})))))}}]),t}(n.Component)),w=a(48),N=a.n(w),P=(a(68),a(24),a(23)),S=a(25),F=a(19),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isLiked:!1,isCommented:!1},"upvote"===a.props.postData.voters[sessionStorage.getItem("username")]?a.state.isLiked=!0:a.state.isLiked=!1,a.handleLike=a.handleLike.bind(Object(m.a)(a)),a.handleComment=a.handleComment.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleLike",value:function(){if(sessionStorage.getItem("username")){var e=this.props.postId;fetch(p.url.API_URL+"/posts/upvote/"+e,{credentials:"include",method:"post",headers:{"Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){console.log("we smashed that like button and  got"),console.log(e)})).catch((function(e){alert("Error getting ProfileData",e),alert(e)})),this.setState((function(e){return{isLiked:!e.isLiked}}))}else this.setState({goToLogin:!0})}},{key:"handleComment",value:function(){this.props.OnGoToCommentsButtonClicked(this.props.postId),this.setState((function(e){return{isCommented:!e.isCommented}}))}},{key:"componentDidMount",value:function(){console.log("mounted babby"),console.log(this.props.postData.voters[sessionStorage.getItem("username")]),"upvote"===this.props.postData.voters[sessionStorage.getItem("username")]?this.setState((function(e){return{isLiked:!0}})):this.setState((function(e){return{isLiked:!1}}))}},{key:"componentDidUpdate",value:function(e){this.props.postData!==e.postData&&("upvote"===this.props.postData.voters[sessionStorage.getItem("username")]?this.setState((function(e){return{isLiked:!0}})):this.setState((function(e){return{isLiked:!1}})))}},{key:"render",value:function(){var e=this;return!0===this.state.goToLogin?s.a.createElement(h.a,{push:!0,to:"/login"}):(void 0!=this.props.postData.src?this.image=p.url.API_URL+"/"+this.props.postData.src:this.image=p.url.API_URL+"/images/error404.jpg",s.a.createElement("div",{className:"Container postContainer"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-2"},s.a.createElement("img",{src:"data:image/png;base64,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",style:{width:"60px"}})),s.a.createElement("div",{className:"col-10"},this.props.onProfilePage?this.props.postData.user:s.a.createElement(g.b,{to:"/profile/"+this.props.postData.user},this.props.postData.user))),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("img",{className:"images",src:this.image})),s.a.createElement("div",{className:"row"},s.a.createElement("hr",{size:"2px"})),s.a.createElement("div",{className:"row bottomHalf"},s.a.createElement("div",{className:"col-1"},s.a.createElement(P.a,{className:"like",icon:this.state.isLiked?F.b:S.b,size:"2x",onClick:function(t){return e.handleLike(t)}})),s.a.createElement("div",{className:"col-1"},s.a.createElement(P.a,{className:"like",icon:this.state.isCommented?F.a:S.a,size:"2x",onClick:function(t){return e.handleComment(t)}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col pl-4"},this.props.postData.votes," Likes")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col pl-4"},this.props.postData.user,": ",this.props.postData.text))))}}]),t}(n.Component),O=(a(158),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isAllContent:!0,GoToCommentPage:!1,SelectedPost:"",posts:[],prevDataFromParent:null,postIds:[]},a.FeedSwitch=a.FeedSwitch.bind(Object(m.a)(a)),a.OnGoToCommentsButtonClicked=a.OnGoToCommentsButtonClicked.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("on the home page"),this.getPosts()}},{key:"componentWillUnmount",value:function(){console.log("leaving the Home page")}},{key:"getPosts",value:function(){var e=this;this.setState((function(e){return{posts:[],postIds:[]}})),fetch(p.url.API_URL+"/posts",{method:"get"}).then((function(e){return e.json()})).then((function(t){console.log(t);var a=Array.from(t,(function(e){return e._id}));e.setState((function(e){return{posts:t,postIds:a}})),e.props.socketHandler("homepage")})).catch((function(e){alert("Error getting Posts",e),alert(e)}))}},{key:"getPostsFromFollowingFeed",value:function(){var e=this;this.setState((function(e){return{posts:[],postIds:[]}})),fetch(p.url.API_URL+"/users/fromFollowing",{credentials:"include",method:"get"}).then((function(e){return e.json()})).then((function(t){console.log(t);var a=Array.from(t,(function(e){return e._id}));e.setState((function(e){return{posts:t,postIds:a}}))}))}},{key:"FeedSwitch",value:function(){this.state.isAllContent?this.getPostsFromFollowingFeed():this.getPosts(),this.setState((function(e){return{isAllContent:!e.isAllContent}}))}},{key:"OnGoToCommentsButtonClicked",value:function(e){this.setState({GoToCommentPage:!0,SelectedPost:e})}},{key:"render",value:function(){var e=this;if(!0===this.state.GoToCommentPage)return s.a.createElement(h.a,{push:!0,to:"/post/"+this.state.SelectedPost});return s.a.createElement("div",{className:"Container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"}),s.a.createElement("div",{className:"col-6"},s.a.createElement("div",{className:"Container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},s.a.createElement("ul",{className:"nav nav-pills nav-fill"},s.a.createElement("li",{className:this.state.isAllContent?"nav-item nav-link active tab":"nav-item nav-link tab",onClick:function(t){return e.FeedSwitch(t)}},"All Content"),s.a.createElement("li",{className:this.state.isAllContent?"nav-item nav-link tab":"nav-item nav-link active tab",onClick:function(t){return e.FeedSwitch(t)}},"Following Feed")))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-12"},this.state.posts.map((function(t){return s.a.createElement(j,{key:t._id,postId:t._id,postData:t,OnGoToCommentsButtonClicked:e.OnGoToCommentsButtonClicked})})))))),s.a.createElement("div",{className:"col-3"})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=t.posts;if(console.log("Yo boii this is it"),console.log(a),e.dataFromParent!==t.prevDataFromParent){if("vote"===e.dataFromParent.updateType){console.log("Yo we not updating the posts yea");var n=t.posts;if(console.log(n),0!==n.length){var s=n.findIndex((function(t){return t._id===e.dataFromParent.id}));console.log("the value of i is: "+s);var o=n[s];return o.votes=e.dataFromParent.vote,o.voters=e.dataFromParent.voters,n[s]=o,{prevDataFromParent:e.dataFromParent,posts:n}}return{}}if("post"===e.dataFromParent.updateType){console.log("Yo we updating the posts yea");var r=t.posts;return r.push(e.dataFromParent.post),{prevDataFromParent:e.dataFromParent,posts:r}}}return null}}]),t}(n.Component)),I=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isFollowing:!1,posts:[],userNotFound:!1,loading:!0},a.handleFollow=a.handleFollow.bind(Object(m.a)(a)),a.OnGoToCommentsButtonClicked=a.OnGoToCommentsButtonClicked.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleFollow",value:function(){var e=this;fetch(p.url.API_URL+"/users/toggleFollow/"+this.state.profileUsername,{credentials:"include",method:"post"}).then((function(e){return e.json()})).then((function(t){"success"==t.status?(console.log("toggled successfully"),e.setState((function(t){return{isFollowing:!e.state.isFollowing}}))):(console.log(t),console.log("toggle unsuccessful"))})).catch((function(e){alert("Error. Maybe try logging in?",e)}))}},{key:"OnGoToCommentsButtonClicked",value:function(e){this.setState({GoToCommentPage:!0,SelectedPost:e})}},{key:"componentDidMount",value:function(){console.log("on the profile page");var e=this.props.match.params.profileUsername;this.setIsFollowing(e);this.setState((function(t){return{profileUsername:e}})),this.getPosts(e)}},{key:"setIsFollowing",value:function(e){var t=this;fetch(p.url.API_URL+"/users/amIFollowing/"+e,{credentials:"include",method:"get"}).then((function(e){return e.json()})).then((function(e){t.setState((function(t){return{isFollowing:e.following}}))})).catch((function(e){alert("ERROR"),t.state.isFollowing=!1}))}},{key:"componentWillUnmount",value:function(){console.log("leaving the profile page")}},{key:"getPosts",value:function(e){var t=this;fetch(p.url.API_URL+"/posts/user/"+e,{method:"get"}).then((function(e){return e.json()})).then((function(e){if("Success"===e.status){console.log(e),t.setState((function(t){return{loading:!1,userNotFound:!1,posts:e.posts}}));var a=e.posts,n=JSON.stringify(a);t.props.socketHandler(n)}else t.setState((function(e){return{loading:!1,userNotFound:!0}}))})).catch((function(e){alert("Error getting Posts",e),alert(e)}))}},{key:"render",value:function(){var e=this,t=this.props.match.params.profileUsername;return this.state.userNotFound?s.a.createElement("div",{className:"Container"},"User Not Found"):!0===this.state.GoToCommentPage?s.a.createElement(h.a,{push:!0,to:"/post/"+this.state.SelectedPost}):s.a.createElement("div",{className:"Container"},s.a.createElement("div",{className:"Container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{class:"col-1"},s.a.createElement("img",{src:"data:image/png;base64,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",style:{width:"60px"}})),s.a.createElement("div",{className:"col-1"},this.state.loading?"loading...":t),s.a.createElement("div",{className:"col-1"},s.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(t){return e.handleFollow(t)}},this.state.isFollowing?"Following":"Follow")))),s.a.createElement("div",{className:"Container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-3"}),s.a.createElement("div",{className:"col-6"},this.state.loading?"Loading":0===this.state.posts.length?"This user doesnt have any posts":this.state.posts.map((function(t){return s.a.createElement(j,{key:t._id,postId:t._id,postData:t,OnGoToCommentsButtonClicked:e.OnGoToCommentsButtonClicked,onProfilePage:!0})}))),s.a.createElement("div",{className:"col-3"}))))}}]),t}(n.Component),L=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).onSubmit=a.onSubmit.bind(Object(m.a)(a)),a.onChangeUsername=a.onChangeUsername.bind(Object(m.a)(a)),a.onChangePassword=a.onChangePassword.bind(Object(m.a)(a)),a.onChangePasswordVerify=a.onChangePasswordVerify.bind(Object(m.a)(a)),a.state={username:"",password:"",passwordverify:"",raw:{},status:""},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"onChangeUsername",value:function(e){this.state.raw.usersignup=e.target.value,this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.state.raw.passwordsignup=e.target.value,this.setState({password:e.target.value})}},{key:"onChangePasswordVerify",value:function(e){this.setState({passwordverify:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault(),this.state.password.localeCompare(this.state.passwordverify)?alert("Passwords do not match"):(console.log(JSON.stringify(this.state.raw)),fetch(p.url.API_URL+"/users/createAccount",{method:"POST",headers:{Accept:"application/json, text/plain, */*","Content-Type":"application/json",Connection:"keep-alive"},body:JSON.stringify(this.state.raw)}).then((function(e){console.log(e),200==e.status?t.setState({status:"Account "+t.state.username+"  created successfully!",username:"",password:"",passwordverify:""}):400==e.status?t.setState({status:"ERROR: Username "+t.state.username+" already exists",username:""}):t.setState({status:"ERROR: Something went wrong. Please try again.",username:"",password:"",passwordverify:""})})))}},{key:"render",value:function(){return s.a.createElement("div",{style:{marginTop:10}},s.a.createElement("h3",null,"Create account:"),s.a.createElement("form",{onSubmit:this.onSubmit},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Username: "),s.a.createElement("input",{type:"username",className:"form-control",onChange:this.onChangeUsername,value:this.state.username})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Password: "),s.a.createElement("input",{type:"password",className:"form-control",onChange:this.onChangePassword,value:this.state.password,required:!0})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",null,"Repeat Password: "),s.a.createElement("input",{type:"password",className:"form-control",onChange:this.onChangePasswordVerify,value:this.state.passwordverify,required:!0})),s.a.createElement("div",{className:"form-group Container"},s.a.createElement("div",{className:"row"},s.a.createElement("button",{className:"col-4 btn btn-primary",type:"button",onClick:this.onSubmit},"Create"),s.a.createElement("span",{style:{marginLeft:10,marginTop:7}},this.state.status)),s.a.createElement("br",null))))}}]),t}(n.Component),A=(a(159),function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isLiked:!1,isCommented:!1,postData:[],comments:[],goBackToHomePage:!1,commentInputText:"",prevDataFromParent:null,goToLogin:!1},a.handleLike=a.handleLike.bind(Object(m.a)(a)),a.handleInputChange2=a.handleInputChange2.bind(Object(m.a)(a)),a.handleComment=a.handleComment.bind(Object(m.a)(a)),a.OnPostCommentButtonClicked=a.OnPostCommentButtonClicked.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("on the Post page");var e=this.props.match.params.postId;this.setState((function(t){return{thepostId:e}})),this.getPost()}},{key:"componentWillUnmount",value:function(){console.log("leaving the Post page")}},{key:"handleInputChange2",value:function(e){var t=e.target,a=t.value,n=t.name;this.setState(Object(v.a)({},n,a))}},{key:"handleLike",value:function(){if(sessionStorage.getItem("username")){var e=this.props.match.params.postId;fetch(p.url.API_URL+"/posts/upvote/"+e,{credentials:"include",method:"post",headers:{"Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){console.log("we smashed that like button and  got"),console.log(e)})).catch((function(e){alert("Error getting ProfileData",e),alert(e)})),this.setState((function(e){return{isLiked:!e.isLiked}}))}else this.setState({goToLogin:!0})}},{key:"getPost",value:function(){var e=this,t=this.props.match.params.postId;fetch(p.url.API_URL+"/posts/"+t,{method:"get"}).then((function(e){return e.json()})).then((function(a){console.log(a),e.setState((function(e){return{postData:a,comments:a.comments}})),"upvote"===a.voters[sessionStorage.getItem("username")]?e.setState((function(e){return{isLiked:!0}})):e.setState((function(e){return{isLiked:!1}}));var n=[t],s=JSON.stringify(n);e.props.socketHandler(s)})).catch((function(e){alert("Error getting PostData",e),alert(e)}))}},{key:"handleComment",value:function(){this.setState((function(e){return{goBackToHomePage:!0}}))}},{key:"OnPostCommentButtonClicked",value:function(){if(sessionStorage.getItem("username")){var e=this.props.match.params.postId;fetch(p.url.API_URL+"/posts/comment/"+e,{credentials:"include",method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:this.state.commentInputText})}).then((function(e){return e.text()})).then((function(e){console.log(e)})).catch((function(e){alert("Error getting ProfileData",e),alert(e)}))}else this.setState({goToLogin:!0})}},{key:"render",value:function(){var e=this;return!0===this.state.goBackToHomePage?s.a.createElement(h.a,{push:!0,to:"/"}):!0===this.state.goToLogin?s.a.createElement(h.a,{push:!0,to:"/login"}):(void 0!=this.state.postData.src?this.image=p.url.API_URL+"/"+this.state.postData.src:this.image=p.url.API_URL+"/images/error404.jpg",s.a.createElement("div",{className:"container postContainer"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-7"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-2"},s.a.createElement("img",{src:"data:image/png;base64,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",style:{width:"60px"}})),s.a.createElement("div",{className:"col-10"},this.state.postData.user)),s.a.createElement("div",{className:"row justify-content-center"},s.a.createElement("img",{className:"images",src:this.image})),s.a.createElement("div",{className:"row"},s.a.createElement("hr",{size:"2px"})),s.a.createElement("div",{className:"row bottomHalf"},s.a.createElement("div",{className:"col-1"},s.a.createElement(P.a,{className:"like",icon:this.state.isLiked?F.b:S.b,size:"2x",onClick:function(t){return e.handleLike(t)}})),s.a.createElement("div",{className:"col-1"},s.a.createElement(P.a,{className:"like",icon:F.a,size:"2x",onClick:function(t){return e.handleComment(t)}}))),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},this.state.postData.votes,"  Likes")),s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},this.state.postData.user,": ",this.state.postData.text)))),s.a.createElement("div",{className:"col-5"},s.a.createElement("div",{className:"container fill  CommentSection border"},s.a.createElement("div",{className:"row TopCommentSection border-bottom"},s.a.createElement("div",{className:"col d-flex justify-content-center align-items-center"},s.a.createElement("h2",null,"Comment Section"))),s.a.createElement("div",{className:"row CommentFeed overflow-auto"},s.a.createElement("div",{className:"col noPad "},s.a.createElement("ul",{className:"list-group list-group-flush"},this.state.comments.map((function(e){return s.a.createElement("li",{className:"list-group-item text-wrap text-break",key:e._id},e.user,": ",e.text)}))))),s.a.createElement("div",{className:"row BottomCommentSection border-top"},s.a.createElement("div",{className:"col d-flex justify-content-center align-items-center"},s.a.createElement("div",{className:"input-group mb-3 noPad noMar"},s.a.createElement("input",{type:"text",class:"form-control",name:"commentInputText","aria-label":"Text input with segmented dropdown button for commenting",placeholder:"Comment Here","aria-describedby":"button-addon2",value:this.state.commentInputText,onChange:this.handleInputChange2}),s.a.createElement("div",{className:"input-group-append"},s.a.createElement("button",{className:"btn btn-outline-primary",type:"button",id:"button-addon2",onClick:function(t){return e.OnPostCommentButtonClicked(t)}},"Post"))))))))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(e.dataFromParent!==t.prevDataFromParent&&e.dataFromParent.id===t.thepostId){if("comment"===e.dataFromParent.updateType){var a=t.comments;return a.push(e.dataFromParent.comment),console.log("weupdating state"),{prevDataFromParent:e.dataFromParent,comments:a}}if("vote"===e.dataFromParent.updateType){var n=t.postData;return n.votes=e.dataFromParent.vote,n.voters=e.dataFromParent.voters,{prevDataFromParent:e.dataFromParent,postData:n}}}return null}}]),t}(n.Component)),H=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={isLoggedOut:!1},a.goLogout=a.goLogout.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.goLogout()}},{key:"goLogout",value:function(){var e=this;fetch(p.url.API_URL+"/users/logout",{method:"get",credentials:"include"}).then((function(e){return e.json()})).then((function(t){"Success"===t.status?(console.log(t),e.props.SuccesfullLogoutCallback(),e.setState({isLoggedOut:!0})):e.setState({goToLoginPage:!0})})).catch((function(e){alert("Error getting Posts",e),alert(e)}))}},{key:"render",value:function(){return this.state.isLoggedOut?s.a.createElement(h.a,{push:!0,to:"/"}):this.state.goToLoginPage?s.a.createElement(h.a,{push:!0,to:"/login"}):s.a.createElement("div",null,"Loading")}}]),t}(n.Component),U=a(72),B=a.n(U),T=N()(p.url.API_URL+"/",{transports:["websocket"]}),D=N()(p.url.API_URL+"/chat",{transports:["websocket"]}),M=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).socketUpdateHandler=function(e){a.sendSocketIO(e)},a.state={data:"",isLoggedIn:!1,newMessage:""},a.sendSocketIO=a.sendSocketIO.bind(Object(m.a)(a)),a.apples=a.apples.bind(Object(m.a)(a)),a.onAuthenticate=a.onAuthenticate.bind(Object(m.a)(a)),a.onChatUpdate=a.onChatUpdate.bind(Object(m.a)(a)),a.SuccesfullLoginCallback=a.SuccesfullLoginCallback.bind(Object(m.a)(a)),a.SuccesfullLogoutCallback=a.SuccesfullLogoutCallback.bind(Object(m.a)(a)),a.getCookie=a.getCookie.bind(Object(m.a)(a)),T.on("update",a.apples),D.on("authenticate",a.onAuthenticate),D.on("chatUpdate",a.onChatUpdate),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"apples",value:function(e){console.log(e),this.setState((function(t){return{data:e}}))}},{key:"onAuthenticate",value:function(e){console.log(e),"login successful!"===e&&console.log("We successfully authenticated on the secure socket")}},{key:"onChatUpdate",value:function(e){this.setState({newMessage:e})}},{key:"componentDidMount",value:function(){this.checkIfLoggedIn(),this.onRouteChanged()}},{key:"sendSocketIO",value:function(e){"homepage"===e?(console.log("yo we sending without the listento"),T.emit(e)):T.emit("listenTo",e)}},{key:"getCookie",value:function(e){for(var t=e+"=",a=decodeURIComponent(document.cookie).split(";"),n=0;n<a.length;n++){for(var s=a[n];" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t))return s.substring(t.length,s.length)}return""}},{key:"checkIfLoggedIn",value:function(){var e=this;fetch(p.url.API_URL+"/users/whoamI",{method:"get",credentials:"include"}).then((function(e){return e.json()})).then((function(t){if("Success"===t.status){console.log(t),e.setState((function(e){return{loading:!1,isLoggedIn:!0}}));var a=e.getCookie("authToken"),n={username:t.username,authToken:a};D.emit("authenticate",n)}})).catch((function(e){alert("Error getting Posts",e),alert(e)}))}},{key:"SuccesfullLoginCallback",value:function(e){var t=this;fetch(p.url.API_URL+"/users/whoamI",{method:"get",credentials:"include"}).then((function(e){return e.json()})).then((function(e){if("Success"===e.status){console.log(e),t.setState((function(e){return{loading:!1,isLoggedIn:!0}}));var a=t.getCookie("authToken"),n={username:e.username,authToken:a};D.emit("authenticate",n)}})).catch((function(e){alert("Error getting checking if logged in",e),alert(e)})),this.setState({isLoggedIn:!0})}},{key:"SuccesfullLogoutCallback",value:function(){this.setState({isLoggedIn:!1})}},{key:"componentDidUpdate",value:function(e,t){console.log("route dh"),this.onRouteChanged()}},{key:"onRouteChanged",value:function(){console.log("ROUTE CHANGED")}},{key:"render",value:function(){var e=this;return s.a.createElement(g.a,null,s.a.createElement("div",{className:"container MainContainerBG"},s.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},s.a.createElement("a",{class:"navbar-brand",href:"#",target:"_blank"},s.a.createElement("img",{src:B.a,width:"30",height:"30",alt:"Our Logo"})),s.a.createElement(g.b,{to:"/",className:"navbar-brand"},"CatRatMatSocket"),s.a.createElement("div",{className:"collpase navbar-collapse"},s.a.createElement("ul",{className:"navbar-nav ml-auto"},s.a.createElement("li",{className:"navbar-item"},s.a.createElement(g.b,{to:"/",className:"nav-link"},"Home")),s.a.createElement("li",{className:"navbar-item"},this.state.isLoggedIn?s.a.createElement(g.b,{to:"/profile/"+sessionStorage.getItem("username"),className:"nav-link"},"Profile"):s.a.createElement("div",null)),s.a.createElement("li",{className:"navbar-item"},this.state.isLoggedIn?s.a.createElement(g.b,{to:"/create",className:"nav-link"},"Create Post"):s.a.createElement("div",null)),s.a.createElement("li",{className:"navbar-item"},this.state.isLoggedIn?s.a.createElement(g.b,{to:"/logout",className:"nav-link"},"Logout"):s.a.createElement(g.b,{to:"/login",className:"nav-link"},"Login")),this.state.isLoggedIn?s.a.createElement("div",{className:"navbar-item nav-link navbar-right",style:{float:"right"}},"Welcome, ",sessionStorage.getItem("username")):s.a.createElement("div",null)))),s.a.createElement("br",null),s.a.createElement(h.b,{path:"/",exact:!0},s.a.createElement(O,{socketHandler:this.socketUpdateHandler,dataFromParent:this.state.data})),s.a.createElement(h.b,{path:"/Profile/:profileUsername",exact:!0,render:function(t){return s.a.createElement(I,Object.assign({},t,{socketHandler:e.socketUpdateHandler,dataFromParent:e.state.data}))}}),s.a.createElement(h.b,{path:"/create"},this.state.isLoggedIn?s.a.createElement(k,{socketHandler:this.socketUpdateHandler}):s.a.createElement(h.a,{to:"/login"})),s.a.createElement(h.b,{path:"/login"},s.a.createElement(y,{socketHandler:this.socketUpdateHandler,SuccesfullLoginCallback:this.SuccesfullLoginCallback})),s.a.createElement(h.b,{path:"/logout"},s.a.createElement(H,{socketHandler:this.socketUpdateHandler,SuccesfullLogoutCallback:this.SuccesfullLogoutCallback})),s.a.createElement(h.b,{path:"/createAccount"},s.a.createElement(L,{socketHandler:this.socketUpdateHandler})),s.a.createElement(h.b,{path:"/post/:postId",render:function(t){return s.a.createElement(A,Object.assign({},t,{socketHandler:e.socketUpdateHandler,dataFromParent:e.state.data}))}}),this.state.isLoggedIn?s.a.createElement(b,{onNewMessage:this.state.newMessage}):s.a.createElement("div",null)))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},28:function(e,t,a){},54:function(e,t,a){},68:function(e,t,a){},72:function(e,t,a){e.exports=a.p+"static/media/logo.ee7cd8ed.svg"},73:function(e,t,a){e.exports=a(160)},78:function(e,t,a){}},[[73,1,2]]]);
//# sourceMappingURL=main.25215c83.chunk.js.map