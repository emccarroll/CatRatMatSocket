{"version":3,"sources":["Constants.js","components/directmessaging/ListOfConversations.js","components/directmessaging/ConvoView.js","components/directmessaging/ComposeNew.js","components/directmessaging/ChatWindow.js","components/directmessaging/DirectMessaging.js","components/create-post.component.js","components/create-login.component.js","components/postView.component.js","components/HomePage.component.js","components/ProfilePage.component.js","components/create-account.component.js","components/postPage.component.js","components/logoutPage.component.js","App.js","serviceWorker.js","index.js","logo.svg"],"names":["config","url","API_URL","ListOfConversations","props","className","this","isLoading","Object","keys","conversations","map","item","key","onClick","goToChatView","readStatus","class","Component","ConvoView","state","DMInputText","handleInputChange","bind","OnPostDMButtonClicked","updateReadStatus","messages","newM","i","toUser","username","fetch","Constants","_id","method","credentials","headers","then","res","json","result","console","log","Status","catch","error","alert","updatedReadStatus","event","target","value","name","setState","fromUser","message","type","aria-label","placeholder","aria-describedby","onChange","id","ComposeNew","toNewusernameText","ComposeNewError","OnPostDMToNewUserButtonClicked","ChatWindow","data","showModal","onNewMessage","messageMap","whoAmI","nextProps","obj","push","status","loading","getAllMessages","length","msgObj","user","filterMessages","showChatView","openConvoWith","messageText","body","JSON","stringify","showComposeNew","DirectMessaging","e","toggleModal","CreatePost","onChangePostDescription","onChangePostFile","onSubmit","image_obj","image_name","image_description","upload_progress","files","filename","preventDefault","fd","FormData","append","text","includes","style","marginTop","Post_file","for","marginLeft","CreateLogin","password","goToHomePage","sessionStorage","setItem","SuccesfullLoginCallback","to","awwwwwLookAtMeIForgotMyPasswordBooHoo","PostView","isLiked","isCommented","postData","voters","getItem","handleLike","handleComment","postId","goToLogin","OnGoToCommentsButtonClicked","prevProps","undefined","src","image","width","onProfilePage","size","icon","faHeartSolid","faHeart","faCommentSolid","faComment","votes","HomePage","isAllContent","GoToCommentPage","SelectedPost","posts","prevDataFromParent","postIds","FeedSwitch","getPosts","arr","Array","from","x","reverse","socketHandler","getPostsFromFollowingFeed","dataFromParent","updateType","findIndex","postToUpdate","vote","post","ProfilePage","isFollowing","userNotFound","handleFollow","profileUsername","match","params","setIsFollowing","following","CreateAccount","onChangeUsername","onChangePassword","onChangePasswordVerify","passwordverify","raw","localeCompare","required","PostPage","comments","goBackToHomePage","commentInputText","handleInputChange2","OnPostCommentButtonClicked","thepostId","getPost","comment","LogoutPage","isLoggedOut","goLogout","SuccesfullLogoutCallback","goToLoginPage","socket","openSocket","transports","secureSocket","App","socketUpdateHandler","a","sendSocketIO","isLoggedIn","newMessage","apples","onAuthenticate","onChatUpdate","getCookie","on","msg","checkIfLoggedIn","onRouteChanged","s","emit","cname","ca","decodeURIComponent","document","cookie","split","c","charAt","substring","indexOf","myAuth","p","prevState","href","logo","height","alt","float","path","exact","render","Boolean","window","location","hostname","ReactDOM","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.4aa7645c.chunk.js","sourcesContent":["// Constants.js\r\nconst prod = {\r\n    url: {\r\n     API_URL: \"\"}\r\n   };\r\n   const dev = {\r\n    url: {\r\n     API_URL: \"http://localhost:3000\"\r\n    }\r\n   };\r\n   export const config = process.env.NODE_ENV === \"development\" ? dev : prod;","import React, { Component } from \"react\";\r\nimport * as Constants from \"../../Constants.js\";\r\nimport \"./dmStyles.css\"\r\n\r\nexport default class ListOfConversations extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n    render(){\r\n        return(            \r\n                        <ul className=\"list-group width100 overflow-auto\">\r\n                            {this.props.isLoading ? <div>Loading</div> :\r\n                                Object.keys(this.props.conversations).map(item => (\r\n                                    \r\n                                <li key={item} onClick={()=>this.props.goToChatView(item)} className=\"list-group-item pointer text-wrap text-break\">{item}{!this.props.conversations[item].readStatus ? <span class=\"badge badge-secondary\">New</span>: <span></span>}</li>\r\n                                    ))\r\n                            }\r\n                            \r\n                            \r\n                        </ul>            \r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n}","import React, { Component } from \"react\";\r\nimport * as Constants from \"../../Constants.js\";\r\nimport \"./dmStyles.css\"\r\n\r\nexport default class ConvoView extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            DMInputText:\"\"\r\n        }\r\n\r\n        this.handleInputChange=this.handleInputChange.bind(this);\r\n        this.OnPostDMButtonClicked=this.OnPostDMButtonClicked.bind(this);\r\n        this.updateReadStatus=this.updateReadStatus.bind(this);\r\n        \r\n    }\r\n    componentDidMount(){\r\n        this.updateReadStatus(this.props.messages);\r\n    }\r\n\r\n\r\n    updateReadStatus(messages){\r\n\r\n        var newM=messages;\r\n        for( var i in newM){\r\n            if(newM[i].readStatus===false && newM[i].toUser===this.props.username){\r\n                newM[i].readStatus=true;\r\n\r\n                fetch(\r\n                    Constants.config.url[\"API_URL\"]+\"/chat/markRead/\"+newM[i]._id,\r\n                    {\r\n                      method: \"post\",\r\n                      \r\n                      credentials: \"include\",\r\n                      \r\n                      headers: {\r\n                        'Content-Type': 'application/json'}\r\n                        \r\n                      \r\n                    }\r\n                  )\r\n                    .then((res) => res.json())\r\n                    .then((result) => {\r\n                        console.log(result);\r\n                        if(result.Status===\"success\"){\r\n                            \r\n                        }\r\n                        \r\n                        \r\n                      \r\n                    })\r\n                    .catch((error) => {alert(\"Error getting updating read status\", error); alert(error)});\r\n\r\n\r\n\r\n            }\r\n        }\r\n        \r\n        this.props.updatedReadStatus();\r\n    }\r\n\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value\r\n        });\r\n      }\r\n\r\n      OnPostDMButtonClicked(){\r\n\r\n        this.props.OnPostDMButtonClicked(this.state.DMInputText);\r\n        this.setState({DMInputText:\"\"});\r\n      }\r\n\r\n\r\n\r\n    render(){\r\n        return(            \r\n                    <div className=\"d-flex flex-column\">    \r\n                    <div className=\"CommentFeed overflow-auto\">\r\n                        \r\n                            \r\n                            <ul className=\"list-group width100   list-group-flush overflow-auto maxH\">\r\n                                {this.props.isLoading ? <div>Loading</div> :\r\n                                    this.props.messages.map(item => (\r\n                                        <li key={item._id} className=\"list-group-item pointer text-wrap text-break\">{item.fromUser}: {item.message}</li>\r\n                                        ))\r\n                                }\r\n                                \r\n                                \r\n                            </ul>\r\n\r\n\r\n\r\n\r\n                        \r\n                    </div>\r\n                    <div className=\"border-top \" >\r\n                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                            \r\n                            {/*<div className=\"d-flex justify-content-center align-items-center align-self-center\">*/}\r\n                                <div className=\"input-group mb-3 noPad noMar\">\r\n                                    <input type=\"text\" class=\"form-control\" name=\"DMInputText\" aria-label=\"Text input with segmented dropdown button for messaging\" placeholder=\"Message\"  aria-describedby=\"button-addon2\" value={this.state.DMInputText} onChange={this.handleInputChange}/>\r\n                                    \r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-primary\" type=\"button\" id=\"button-addon2\" onClick={() => this.props.OnPostDMButtonClicked(this.state.DMInputText)}>Send</button>\r\n                                    </div>\r\n                                </div>\r\n                                {/* </div>*/}\r\n\r\n                            </div>\r\n                        \r\n                    </div>   \r\n                    </div>         \r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}","import React, { Component } from \"react\";\r\nimport * as Constants from \"../../Constants.js\";\r\nimport \"./dmStyles.css\"\r\n\r\nexport default class ComposeNew extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state={\r\n            DMInputText:\"\",\r\n            toNewusernameText: \"\",\r\n\r\n        }\r\n\r\n        this.handleInputChange=this.handleInputChange.bind(this);\r\n        this.OnPostDMButtonClicked=this.OnPostDMButtonClicked.bind(this);\r\n        \r\n    }\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value\r\n        });\r\n        //this.props.clearError();\r\n      }\r\n\r\n      OnPostDMButtonClicked(){\r\n\r\n        this.props.OnPostDMButtonClicked(this.state.DMInputText);\r\n        this.setState({DMInputText:\"\"});\r\n      }\r\n\r\n\r\n\r\n    render(){\r\n        return(            \r\n                    <div className=\"d-flex flex-column\">    \r\n                        <div>{this.props.ComposeNewError}</div>\r\n                        <div className=\"input-group input-group-sm mb-3\">\r\n                            <div className=\"input-group-prepend\">\r\n                                <span className=\"input-group-text\" id=\"inputGroup-sizing-sm\">To Username</span>\r\n                            </div>\r\n                            <input type=\"text\" name=\"toNewusernameText\"  value={this.state.toNewusernameText}  onChange={this.handleInputChange} className=\"form-control\" aria-label=\"To Username\" aria-describedby=\"inputGroup-sizing-sm\"/>\r\n                        </div>\r\n\r\n\r\n                    \r\n                        <div className=\"d-flex justify-content-center align-items-center\">\r\n                            \r\n                            {/*<div className=\"d-flex justify-content-center align-items-center align-self-center\">*/}\r\n                                <div className=\"input-group mb-3 noPad noMar\">\r\n                                    <input type=\"text\" class=\"form-control\" name=\"DMInputText\" aria-label=\"Text input with segmented dropdown button for commenting\" placeholder=\"Message\"  aria-describedby=\"button-addon2\" value={this.state.DMInputText} onChange={this.handleInputChange}/>\r\n                                    \r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-primary\" type=\"button\" id=\"button-addon2\" onClick={() => this.props.OnPostDMToNewUserButtonClicked(this.state.toNewusernameText,this.state.DMInputText)}>Send</button>\r\n                                    </div>\r\n                                </div>\r\n                                {/* </div>*/}\r\n\r\n                            </div>\r\n                        \r\n                      \r\n                    </div>         \r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}","import React, { Component } from \"react\";\r\nimport * as Constants from \"../../Constants.js\";\r\nimport ListOfConversations from \"./ListOfConversations\"\r\nimport ConvoView from \"./ConvoView\"\r\nimport ComposeNew from \"./ComposeNew\"\r\nimport \"./dmStyles.css\"\r\n\r\nexport default class ChatWindow extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          data:\"\",\r\n          showModal:false,\r\n          messages:[],\r\n          isLoading:true,\r\n          onNewMessage:null,\r\n          messageMap:null,\r\n          username:\"\"\r\n        };\r\n        this.goToChatView=this.goToChatView.bind(this);\r\n        this.OnPostDMButtonClicked=this.OnPostDMButtonClicked.bind(this);\r\n        this.OnPostDMToNewUserButtonClicked=this.OnPostDMToNewUserButtonClicked.bind(this);\r\n        this.updatedReadStatus=this.updatedReadStatus.bind(this);\r\n        //this.ConvoView=this.ConvoView.bind(this);\r\n    }\r\n    componentDidMount(){\r\n        this.whoAmI();\r\n        //this.getAllMessages();\r\n    }\r\n    toggleModal(){\r\n        this.setState({\r\n            showModal:!this.state.showModal\r\n        })\r\n    }\r\n\r\n    componentDidUpdate(nextProps) {\r\n        const { onNewMessage } = this.props;\r\n\r\n        const {messageMap, messages}=this.state;\r\n        if (nextProps.onNewMessage !== onNewMessage) {\r\n            console.log(\"yea yea\")\r\n            console.log(onNewMessage);\r\n\r\n            if((onNewMessage.fromUser===this.state.username)&&(onNewMessage.toUser===this.state.username)){\r\n                if(messageMap[onNewMessage.fromUser]){\r\n                    messageMap[onNewMessage.fromUser].obj.push(onNewMessage);\r\n                    if(!onNewMessage.readStatus){\r\n                        messageMap[onNewMessage.fromUser].readStatus=false;\r\n                    }\r\n                }\r\n                else messageMap[onNewMessage.fromUser]={readStatus:onNewMessage.readStatus,obj:[onNewMessage]};\r\n            }\r\n            else if((onNewMessage.fromUser===this.state.username)&&(onNewMessage.toUser!==this.state.username)){\r\n                if(messageMap[onNewMessage.toUser]){\r\n                    messageMap[onNewMessage.toUser].obj.push(onNewMessage);\r\n                    /*if(!onNewMessage.readStatus){\r\n                        messageMap[onNewMessage.toUser].readStatus=false;\r\n                    }*/\r\n                    console.log(\"yea man its me2\")\r\n                }\r\n                else{\r\n                    messageMap[onNewMessage.toUser]={readStatus:true,obj:[onNewMessage]};\r\n                }\r\n                \r\n            }\r\n            else if((onNewMessage.fromUser!==this.state.username)&&(onNewMessage.toUser===this.state.username)){\r\n                if(messageMap[onNewMessage.fromUser]){\r\n                    messageMap[onNewMessage.fromUser].obj.push(onNewMessage);\r\n                    if(!onNewMessage.readStatus){\r\n                        messageMap[onNewMessage.fromUser].readStatus=false;\r\n                    }\r\n                    console.log(\"yea man its me\")\r\n                }\r\n                else messageMap[onNewMessage.fromUser]={readStatus:onNewMessage.readStatus,obj:[onNewMessage]};\r\n            }\r\n            else{\r\n                console.log((onNewMessage.fromUser!==this.state.username))\r\n                console.log((onNewMessage.toUser===this.state.username))\r\n                console.log(nextProps)\r\n                console.log((onNewMessage).toUser);\r\n                console.log(this.state.username)\r\n                console.log(\"non of the above dawg\")\r\n            }\r\n            messages.push(onNewMessage);\r\n            this.setState({\r\n                messages:messages,\r\n                messageMap:messageMap\r\n            })\r\n            \r\n\r\n\r\n\r\n\r\n        }\r\n       }\r\n\r\n    whoAmI(){\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/whoamI\",\r\n              {\r\n                method: \"get\",\r\n                credentials: 'include'\r\n              }\r\n            )\r\n              .then((res) => res.json())\r\n              .then((result) => {\r\n                if(result.status===\"Success\"){\r\n                  console.log(result);\r\n                  this.setState(state => ({\r\n                      loading:false,\r\n                      username:result.username,\r\n                      \r\n                      \r\n                    }));\r\n                    this.getAllMessages();\r\n                }\r\n                \r\n                  \r\n                \r\n              })\r\n              .catch((error) => {alert(\"Error getting checking if logged in\", error); alert(error)});\r\n    }\r\n    filterMessages(messages){\r\n        console.log(messages)\r\n        var messageMap= new Object();\r\n\r\n        for(var i=0; i<messages.length;i++){\r\n            var msgObj=messages[i]\r\n            console.log(\"the user from this message is \"+msgObj.user);\r\n            \r\n                if((msgObj.fromUser===this.state.username)&&(msgObj.toUser===this.state.username)){\r\n                    if(messageMap[msgObj.fromUser]){\r\n                        messageMap[msgObj.fromUser].obj.push(msgObj);\r\n                        if(!msgObj.readStatus){\r\n                            messageMap[msgObj.fromUser].readStatus=false;\r\n                        }\r\n                    }\r\n                    else messageMap[msgObj.fromUser]={readStatus:msgObj.readStatus,obj:[msgObj]};\r\n                }\r\n                else if((msgObj.fromUser===this.state.username)&&(msgObj.toUser!==this.state.username)){\r\n                    if(messageMap[msgObj.toUser]){\r\n                        messageMap[msgObj.toUser].obj.push(msgObj);\r\n                        /*if(!msgObj.readStatus){\r\n                            messageMap[msgObj.toUser].readStatus=false;\r\n                        }*/\r\n                    }\r\n                    else{\r\n                        messageMap[msgObj.toUser]={readStatus:true,obj:[msgObj]};\r\n                    }\r\n                    \r\n                }\r\n                else if((msgObj.fromUser!==this.state.username)&&(msgObj.toUser===this.state.username)){\r\n                    if(messageMap[msgObj.fromUser]){\r\n                        messageMap[msgObj.fromUser].obj.push(msgObj);\r\n                        if(!msgObj.readStatus){\r\n                            messageMap[msgObj.fromUser].readStatus=false;\r\n                        }\r\n                    }\r\n                    else messageMap[msgObj.fromUser]={readStatus:msgObj.readStatus,obj:[msgObj]};\r\n                }\r\n                    \r\n                    \r\n            \r\n        }\r\n        this.setState({\r\n            isLoading:false,\r\n            messageMap:messageMap\r\n        })\r\n\r\n\r\n\r\n    }\r\n    getAllMessages(){\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/chat/getMessages\",\r\n            {\r\n              method: \"get\",\r\n              credentials: \"include\"\r\n              \r\n            }\r\n          )\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n                console.log(result);\r\n                if(result.Status===\"success\"){\r\n                    this.setState({\r\n                        messages:result.messages\r\n                    })\r\n                }\r\n                this.filterMessages(result.messages);\r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error getting DMS\", error); alert(error)});\r\n    }\r\n    goToChatView(username){\r\n        console.log(\"going to chat with\"+username)\r\n       this.setState({\r\n           showChatView:true,\r\n           openConvoWith:username\r\n       })\r\n    }\r\n    OnPostDMButtonClicked(messageText){\r\n        console.log(\"the message text is: \"+messageText)\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/chat/message\",\r\n            {\r\n              method: \"post\",\r\n              \r\n              credentials: \"include\",\r\n              \r\n              headers: {\r\n                'Content-Type': 'application/json'},\r\n                \r\n              body: JSON.stringify({\r\n                \"username\": this.state.openConvoWith,\r\n                \"message\": messageText\r\n              })\r\n            }\r\n          )\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n                console.log(result);\r\n                if(result.Status===\"success\"){\r\n                    \r\n                }\r\n                \r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error getting DMS\", error); alert(error)});\r\n    }\r\n    OnPostDMToNewUserButtonClicked(toUser,messageText){\r\n        console.log(\"the message text is: \"+messageText)\r\n        console.log(\"sending to \"+ toUser);\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/chat/message\",\r\n            {\r\n              method: \"post\",\r\n              \r\n              credentials: \"include\",\r\n              \r\n              headers: {\r\n                'Content-Type': 'application/json'},\r\n                \r\n              body: JSON.stringify({\r\n                \"username\": toUser,\r\n                \"message\": messageText\r\n              })\r\n            }\r\n          )\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n                console.log(result);\r\n                if(result.Status===\"success\"){\r\n                    \r\n                }\r\n                else if(result.message===\"specified user does not exist\"){\r\n                    this.setState({ComposeNewError:\"User Does Not Exist\"})\r\n                }\r\n                \r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error getting DMS\", error); alert(error)});\r\n    }\r\n    updatedReadStatus(){\r\n        console.log(\"Updatin The Read status\")\r\n        this.getAllMessages();\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        \r\n\r\n\r\n        return(\r\n            <div className=\"ChatWindow Container-fluid justify-content-center\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-12 text-center \">\r\n                        {/* <div className=\"nav nav-pills nav-fill width100\" role=\"group\" aria-label=\"Basic example\">\r\n                            <li type=\"button\" className=\"nav-item nav-link active tab\">Chat List</li>\r\n                            <li type=\"button\" className=\"nav-item nav-link active tab\">Chat</li>\r\n\r\n                        </div> */}\r\n                        <div className=\"Container-fluid\">\r\n                            <div className=\"row\">\r\n                                \r\n                                <div className=\"col-2\">\r\n                                    {this.state.showChatView ||this.state.showComposeNew ? <button onClick={()=>{this.setState({showComposeNew:false,showChatView:false,openConvoWith:null})}} type=\"button\" class=\"btn btn-link\">Back</button>\r\n                                       : <div> </div>\r\n                                        }\r\n                                </div>\r\n                                <div className=\"col-7\">\r\n                                <h4>Direct Messaging</h4>\r\n                                </div>\r\n                                <div className=\"col-3\">\r\n                                {this.state.showChatView ? <div> </div>\r\n                                       : <button onClick={()=>{this.setState({showComposeNew:true})}} type=\"button\" class=\"btn btn-link\">New Convo</button>\r\n                                        }\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                    </div>\r\n                    \r\n                </div>\r\n                <div className=\"row\">\r\n                    <div className=\"col-12\">\r\n                        \r\n                        {this.state.showComposeNew ? <ComposeNew ComposeNewError={this.state.ComposeNewError}  isLoading={this.state.isLoading} OnPostDMToNewUserButtonClicked={this.OnPostDMToNewUserButtonClicked}></ComposeNew> :\r\n                        \r\n                        this.state.showChatView ? <ConvoView isLoading={this.state.isLoading} updatedReadStatus={this.updatedReadStatus} OnPostDMButtonClicked={this.OnPostDMButtonClicked} username={this.state.username} messages={this.state.messageMap[this.state.openConvoWith].obj}></ConvoView> : \r\n                        <ul className=\"list-group width100 overflow-auto\">\r\n                            <ListOfConversations isLoading={this.state.isLoading} conversations={this.state.messageMap} goToChatView={this.goToChatView} />\r\n                        </ul>\r\n                        }\r\n                        \r\n                    </div>\r\n                    \r\n                </div>\r\n                \r\n                \r\n            </div>\r\n            \r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}","import React, { Component } from \"react\";\r\nimport * as Constants from \"../../Constants.js\";\r\nimport ChatWindow from \"./ChatWindow\"\r\nimport \"./dmStyles.css\"\r\n\r\nexport default class DirectMessaging extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n          data:\"\",\r\n          showModal:false,\r\n          onNewMessage:null\r\n        };\r\n    }\r\n    toggleModal(){\r\n        this.setState({\r\n            showModal:!this.state.showModal\r\n        })\r\n    }\r\n\r\n\r\n\r\n    render(){\r\n        \r\n\r\n\r\n        return(\r\n            <div>\r\n                {this.state.showModal ? <ChatWindow onNewMessage={this.props.onNewMessage}></ChatWindow> :<div></div>}\r\n                <div className=\"FloatingActionButton\" onClick={(e)=>this.toggleModal()}><h2 className=\"FabText\">Dm's</h2></div>\r\n            </div>\r\n            \r\n        )\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n}","import React, { Component } from 'react';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class CreatePost extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangePostDescription = this.onChangePostDescription.bind(this);\r\n        this.onChangePostFile = this.onChangePostFile.bind(this);\r\n\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n\r\n        this.state = {\r\n            image_obj: null,\r\n            image_name:'Select image',\r\n            image_description: '',\r\n            upload_progress: ''\r\n        }\r\n    }\r\n\r\n    onChangePostDescription(e) {\r\n        this.setState({\r\n            image_description: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePostFile (e) {\r\n        console.log(\"*** changed post file\")\r\n        if(e.target.value.length > 0){\r\n            var obj = e.target.files[0];\r\n            var filename = obj['name'];\r\n            console.log(obj);\r\n            this.setState({\r\n                image_obj: obj,\r\n                image_name: filename\r\n            });\r\n        } else {\r\n            console.log(\"cancel was clicked\");\r\n        }\r\n    }\r\n\r\n\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n        \r\n        console.log(`Form submitted:`);\r\n        //console.log(`Post Description: ${this.state.Post_description}`);\r\n        \r\n        const fd = new FormData();\r\n        fd.append('file', this.state.image_obj);\r\n        fd.append('text', this.state.image_description);\r\n        const config = {\r\n            headers: {\r\n                'content-type': 'multipart/form-data'\r\n            }\r\n        };\r\n\r\n        fetch(Constants.config.url[\"API_URL\"]+'/posts/add', {\r\n            credentials: 'include',\r\n            method: 'POST',\r\n            body: fd\r\n        }).then((res)=>{ return res.text() }).then((text)=>{\r\n            console.log(text);\r\n            if (text.includes(\"post added\")){\r\n                console.log(\"Upload complete!\");\r\n                this.setState({\r\n                    upload_progress: 'Upload Successful'\r\n                });\r\n            }\r\n            else if(text.includes(\"invalid authentication token\")){\r\n                console.log(\"Upload failed\");\r\n                this.setState({\r\n                    upload_progress: 'Upload Failed. Please log in and try again.'\r\n                });\r\n            }\r\n            else{\r\n                console.log(\"Upload failed\");\r\n                this.setState({\r\n                    upload_progress: 'Upload failed. Please try again.'\r\n                });\r\n            }\r\n            this.setState({\r\n                image_description: '',\r\n                image_obj: null,\r\n                image_name: 'Select image'\r\n            })\r\n        });\r\n        \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{marginTop: 10}}>\r\n                <h3>Create Post</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\"> \r\n                        <label>Description: </label>\r\n                        <input  type=\"text\"\r\n                                className=\"form-control\"\r\n                                value={this.state.image_description}\r\n                                onChange={this.onChangePostDescription}\r\n                                />\r\n                    </div>\r\n                    <div class=\"form-group custom-file\">\r\n                        <input type=\"file\" class=\"custom-file-input\" id=\"customFile\" value={this.state.Post_file}\r\n                                onChange={this.onChangePostFile} onClick={(event)=> { \r\n                                    event.target.value = null\r\n                               }}/>\r\n                        <label class=\"custom-file-label\" for=\"customFile\">{this.state.image_name}</label>\r\n                        </div>\r\n\r\n                    <div className=\"submit-upload\" style={{marginTop: 10}}>\r\n                        <input type=\"submit\" value=\"Create Post\" className=\"btn btn-primary\" />\r\n                        <span style={{marginLeft: 10}}>{this.state.upload_progress}</span>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./loginPage.css\"\r\nimport { Link } from 'react-router-dom';\r\nimport {Redirect, useParams} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class CreateLogin extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        // this.onChangeTodoDescription = this.onChangeTodoDescription.bind(this);\r\n        // this.onChangeTodoResponsible = this.onChangeTodoResponsible.bind(this);\r\n        // this.onChangeTodoPriority = this.onChangeTodoPriority.bind(this);\r\n        // this.onSubmit = this.onSubmit.bind(this);\r\n            this.onSubmit = this.onSubmit.bind(this);\r\n            this.handleInputChange = this.handleInputChange.bind(this);\r\n         this.state = {\r\n             username: '',\r\n             password: '',\r\n             goToHomePage: false\r\n         }\r\n    }\r\n\r\n    handleInputChange(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value\r\n        });\r\n      }\r\n\r\n     onSubmit(e) {\r\n         e.preventDefault();\r\n        console.log(\"chicken\");\r\n\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/login\",\r\n            {\r\n              credentials: 'include',\r\n                \r\n              method: \"POST\",\r\n              headers: {\r\n                'Content-Type': 'application/json'},\r\n              body:JSON.stringify({\r\n                \"username\": this.state.username,//\"jacobTesterman2\",\r\n\t            \"password\": this.state.password//\"securepassword?\"\r\n              }),\r\n                \r\n              \r\n            }\r\n          )\r\n            .then((res) => res.text())\r\n            .then((result) => {\r\n                if(result===\"login correct\"){\r\n                    sessionStorage.setItem(\"username\",this.state.username);\r\n                    this.props.SuccesfullLoginCallback(this.state.username);\r\n                    this.setState(state => ({\r\n                        goToHomePage:true\r\n                      }));\r\n                }\r\n                console.log(result);\r\n                \r\n                \r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error Logging In\", error); alert(error)});\r\n\r\n\r\n\r\n\r\n\r\n\r\n    //     console.log(`Form submitted:`);\r\n    //     console.log(`Todo Description: ${this.state.todo_description}`);\r\n    //     console.log(`Todo Responsible: ${this.state.todo_responsible}`);\r\n    //     console.log(`Todo Priority: ${this.state.todo_priority}`);\r\n\r\n    //     this.setState({\r\n    //         todo_description: '',\r\n    //         todo_responsible: '',\r\n    //         todo_priority: '',\r\n    //         todo_completed: false\r\n    //     })\r\n    }\r\n\r\n    awwwwwLookAtMeIForgotMyPasswordBooHoo(){\r\n        alert(\"Well that sucks\");\r\n        alert(\"Maybe lay off those quarantine beers you fool\");\r\n        alert(\"Unfortunately we have not, and likely will not, ever implement this functionality. Tough luck.\");\r\n        alert(\"But here's something to lift your spirits...\");\r\n        alert('According to all known laws of aviation, there is no way that a bee should be able to fly. Its wings are too small to get its fat little body off the ground. The bee, of course, flies anyway. Because bees dont care what humans think is impossible. SEQ. 75 - INTRO TO BARRY INT. BENSON HOUSE - DAY ANGLE ON: Sneakers on the ground. Camera PANS UP to reveal BARRY BENSONS BEDROOM ANGLE ON: Barrys hand flipping through different sweaters in his closet. BARRY Yellow black, yellow black, yellow black, yellow black, yellow black, yellow black...oohh, black and yellow... ANGLE ON: Barry wearing the sweater he picked, looking in the mirror. BARRY (CONTD) Yeah, lets shake it up a little. He picks the black and yellow one. He then goes to the sink, takes the top off a CONTAINER OF HONEY, and puts some honey into his hair. He squirts some in his mouth and gargles. Then he takes the lid off the bottle, and rolls some on like deodorant. CUT TO: INT. BENSON HOUSE KITCHEN - CONTINUOUS Barrys mother, JANET BENSON, yells up at Barry. JANET BENSON Barry, breakfast is ready! CUT TO: \"Bee Movie\" - JS REVISIONS 8/13/07 1. INT. BARRYS ROOM - CONTINUOUS BARRY Coming! SFX: Phone RINGING. Barrys antennae vibrate as they RING like a phone. Barrys hands are wet. He looks around for a towel. BARRY (CONTD) Hang on a second! He wipes his hands on his sweater, and pulls his antennae down to his ear and mouth. BARRY (CONTD) Hello? His best friend, ADAM FLAYMAN, is on the other end. ADAM Barry? BARRY Adam? ADAM Can you believe this is happening? BARRY Cant believe it. Ill pick you up. Barry sticks his stinger in a sharpener. SFX: BUZZING AS HIS STINGER IS SHARPENED. He tests the sharpness with his finger. SFX: Bing. BARRY (CONTD) Looking sharp. ANGLE ON: Barry hovering down the hall, sliding down the staircase bannister. Barry...');\r\n    }\r\n\r\n    render() {\r\n        if(this.state.goToHomePage===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/\"}\r\n                    />\r\n                )\r\n        }\r\n        return (\r\n            <div style={{ marginTop: 10 }}>\r\n                <h3>Login:</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Username: </label>\r\n                        <input name=\"username\" type=\"username\"\r\n                            className=\"form-control\"\r\n                            value={this.state.username}\r\n                            onChange={this.handleInputChange}\r\n\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password: </label>\r\n                        <input name=\"password\"\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            value={this.state.password}\r\n                            onChange={this.handleInputChange}\r\n\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group Container\">\r\n                        <div className=\"row\">\r\n                            <button className=\"col-4 btn btn-primary\" type=\"button\" onClick={this.awwwwwLookAtMeIForgotMyPasswordBooHoo}>\r\n                                Forgot Password?\r\n                            </button>\r\n                            <div className=\"col\"></div>\r\n\r\n\r\n                            <button className=\"col-4 btn btn-primary\" type=\"submit\">\r\n                                Login\r\n                            </button>\r\n                        </div>\r\n                        <br></br>\r\n                        <div className=\"row\">\r\n                            <div className=\"col\"></div>\r\n                            <Link className=\"col-5 btn btn-primary\" to=\"/createAccount\">\r\n                                Create Account\r\n                            </Link>\r\n                            <div className=\"col\"></div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./postView.css\"\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faHeart,faComment} from '@fortawesome/fontawesome-free-regular'\r\nimport { faHeart as faHeartSolid, faComment as faCommentSolid } from '@fortawesome/free-solid-svg-icons'\r\n\r\nimport { s } from '@fortawesome/free-solid-svg-icons'\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class PostView extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isLiked: false, isCommented: false};\r\n    \r\n        if(this.props.postData.voters[sessionStorage.getItem(\"username\")]===\"upvote\"){           \r\n                this.state.isLiked=true;\r\n        }\r\n        else{\r\n            \r\n                this.state.isLiked=false;\r\n           \r\n        }\r\n\r\n        // This binding is necessary to make `this` work in the callback\r\n        this.handleLike = this.handleLike.bind(this);\r\n        this.handleComment = this.handleComment.bind(this);\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n    handleLike(){\r\n        if(!sessionStorage.getItem(\"username\")){\r\n            this.setState({\r\n                goToLogin: true\r\n            })\r\n        }\r\n        else{\r\n            const { postId } = this.props;\r\n            fetch(\r\n                Constants.config.url[\"API_URL\"]+\"/posts/upvote/\"+postId,\r\n                {\r\n                    credentials: 'include',\r\n                   // mode: \"same-origin\",\r\n                  method: \"post\",\r\n                  headers: {\r\n                    'Content-Type': 'application/json'}\r\n                }\r\n              )\r\n                .then((res) => res.text())\r\n                .then((result) => {\r\n                    console.log(\"we smashed that like button and  got\");\r\n                    console.log(result);\r\n                    \r\n                    \r\n                  \r\n                })\r\n                .catch((error) => {alert(\"Error getting ProfileData\", error); alert(error)});\r\n            \r\n    \r\n    \r\n              this.setState(state => ({\r\n                isLiked: !state.isLiked\r\n              }));  \r\n\r\n\r\n        }\r\n\r\n        \r\n    }\r\n    handleComment(){\r\n        \r\n        this.props.OnGoToCommentsButtonClicked(this.props.postId);\r\n        this.setState(state => ({\r\n            isCommented: !state.isCommented\r\n          }));\r\n        \r\n    }\r\n\r\n    componentDidMount() {\r\n        console.log(\"mounted babby\");\r\n        console.log(this.props.postData.voters[sessionStorage.getItem(\"username\")]);\r\n        if(this.props.postData.voters[sessionStorage.getItem(\"username\")]===\"upvote\"){\r\n            this.setState(state =>({\r\n                isLiked:true\r\n            }));\r\n        }\r\n        else{\r\n            this.setState(state =>({\r\n                isLiked:false\r\n            }));\r\n        }\r\n      }\r\n\r\n    componentDidUpdate(prevProps){\r\n        if(this.props.postData!==prevProps.postData){\r\n            if(this.props.postData.voters[sessionStorage.getItem(\"username\")]===\"upvote\"){\r\n                this.setState(state =>({\r\n                    isLiked:true\r\n                }));\r\n            }\r\n            else{\r\n                this.setState(state =>({\r\n                    isLiked:false\r\n                }));\r\n            }\r\n        }\r\n        \r\n\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        if(this.state.goToLogin===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/login\"}\r\n                    />\r\n                )\r\n        }\r\n        //////Assigning default image to jesseerror404 if not found/////////\r\n        var image;\r\n        if(this.props.postData.src != undefined){\r\n            this.image = Constants.config.url[\"API_URL\"]+\"/\"+this.props.postData.src\r\n        }else{\r\n            this.image = Constants.config.url[\"API_URL\"]+\"/images/error404.jpg\"\r\n        }\r\n        ////////////////////////////////////////////////////////////\r\n\r\n\r\n        return (\r\n            <div className=\"Container postContainer\">\r\n                <div className=\"row\">\r\n                \r\n                    <div className=\"col-2\">\r\n                        <img src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADICAMAAACahl6sAAAAM1BMVEUKME7///+El6bw8vQZPVlHZHpmfpHCy9Ojsbzg5ekpSmTR2N44V29XcYayvsd2i5yTpLFbvRYnAAAJcklEQVR4nO2d17arOgxFs+kkofz/154Qmg0uKsuQccddT/vhnOCJLclFMo+//4gedzcApf9B4srrusk+GsqPpj+ypq7zVE9LAdLWWVU+Hx69y2FMwAMGyfusLHwIpooyw9IAQfK+8naDp3OGHvZ0FMhrfPMgVnVjC2kABOQ1MLvi0DEIFj1ILu0LU2WjNRgtSF3pKb4qqtd9IHmjGlJHlc09IHlGcrQcPeUjTAySAGNSkQlRhCCJMGaUC0HSYUx6SmxFAtJDTdylsr4ApC1TY0yquKbCBkk7qnYVzPHFBHkBojhVJWviwgPJrsP4qBgTgbQXdsesjm4pDJDmIuswVZDdFx0ENTtkihoeqSDXD6tVxOFFBHndMKxWvUnzexpIcx/Gg2goJJDhVo6PCMGRAnKTmZuKm3wcJO/upphUqUHy29yVrRhJDORXOKIkEZDf4YiRhEF+iSNCEgb5KY4wSRDkB/yurUEG8nMcocgYABnvbrVL3nMIP0h/d5udKnwzSC/InfPdkJ6eWb0PJE++dyVVyQP5iQmWW27X5QG5druEKafBu0Hqu9saVOHa8HKC/K6BzHKZiRMEZCDF0Nd1/ZfXI/fcOibHOssFgokg9uFA20BhztHEAZIjIohrD/o1wljeFBDEwBo8YUt5Ir/rNLjOIACPFdy/AbEcPdcJBOCxytjeYAM4Kzp6rhOIPhRGNzwmFP3rOoTFI0irtnQKx6fj1Zt+h9njEUS9mKJxfFRrX5lt7wcQtaWTOfTHeIXVJQcQrRW+OYex2j0a66XZINoO8a7fPH2iHF2mC7ZBtB3Czb5QvjizSx7A3308mRzqAwujSywQbYfwc0iU8zqjS0yQ6ztEHX9332KCaGNIYB/Qq1z3yN0oDZBWyeFYJBCkm2sXLhDtpKFwNDMu5TnrZpYGiHbK4Nlwikg5DrYV1g6iPoJmzE5MKd/fOp53EPUaQZaLqH3u+vo2ELWp3wSyWuYGoj9EEIJoV3L9AUS/ZLsJpLNBXmqOu0CW6P5A/dx9IL0FAji/FYKot9EqE0Tvs6QBUe/2CxMEkZAlBNGPhdoAQWyTSmbxUwvUygwQyMmniAPgLt87CODXHuftWJIQgzrfQDC5AfwSgz9MmmG/gWCOqDgZ4JsQeTvZBoJJDhAFEsSDyxUEEUUekk0UEMhjBcEcGsoWVpBU3NcCgkkPkJWrKbdRZvULCMTWhYEdMrayBQRyqHcnSLmAIH7LcWJ8Hch7BsHEdWFpJsZjziCgFBpZ9TPm4e0XBJTTJKt9xjy8RoLI4gimPLP5goCSgWTrEcyzsy8IqmZVMo0H5bJiQToBCOjZ5RcElhjLN3dU7uQMAvoxwQkJZKI1CQzCthJYEigahHuDDi4rFwzCPQ7F1fiDQZgTR5iJwEGYRgIsiECD8BwwMAEfDcIaW8CRBQdhjS1kJQEchDEFhiRKr4KDFPS9FGQNVwEHoW83QjsEHdkfnuIOl6C1NjMItiaCaCWgbdpFJXQ9soh2uoB9aJcCxFdgZwlcrTmvENGlrITBBdpK25Qhd1F2RScq8CKu/gsCL8qN5THjy+Rr5E6joYgPxpdl518QrCf8Kpgjn6C8HLkbb+vt7ZM8wdVvy258khsRfHaS5DalDnlidZT7Erk+SXV5Bj1D3LS29XyhVJuoKHs9Q8S6reK11oUc7vPcr9uswP3SLiDINefXOF5rwCuGzVT6zVkVPfh2wWmHcz4wAwba2cgN1/Tsvleu7//i69CgVyt1GwjOs2+XK3rtbl151Tg3vOeioG40Mz2V+6pQ4xbJHOZj6g0EMxk93tV7fuedvVZpQSPhbwNBGInrymGrwNh1GXmL8F+lAaJ+NU/fzcmvJqvKj7177+1v1GY/GiBKI1Fdy/2XK6upXwaIJpI8B/399W0mH9zzafKaeCF9J0WF+jyCuFusTGzZKhFH8dVLZql2brxgcdVBKb7KG/7UZTmB3XJ6uL/QYT5ScRI74FcHEJ7feopyfGkaeaGlPoCw/BbjZmSBWIvINQNmTxdjWJqwUI8sztR4nYPuIPSTSUnOCZOE3ierqRoJfNSQxDjLEYs8i91eqgFCDSWiFHiuqAN9CwEGCPEISVjvwhS7Mfx6dtX8kC5aqvneGBOEFN2v6RBiYwr3DQOkLhEW6fHFbIwFQnkLiWYmZxE220z/aedPx99C+hiyKR4OzNFhg8S75CJTnxQ1dyugHTLaY10iu9dBpmhQtMz1ABLrkgtHVnRsPUO3OcU25i8cWdGxZbflCBKJqBdMs3aF/dYhNexU9RFcYEmLXYQKghyWdufyldBSU3KpjkKhZclxTXQGCTkL/HZDUIH5+Gkt4SgoCtj7pSYSNJLTK3VVRnmXZxebSMBIzmHABeIdXBebiN9eHYtUZ62ab3BdGkUm+SKJw1bdRXeewaX7qqdAnljg2sVxg3guAk3baofcg9yZ2eZpnHNvSFrEqhB9YPjesmt0pt6Xc8hl7W5L9Q4Xx09ctsrd5VhWeF6nF8SRrZdw49qns//0xTK/AZ8vGr3caTliuzeFNeCJTgafpKlhHd2WP1sy1LqDF798gjKJPLqDr9keoTd43+NyNzC1CI8Xy2lcPtOaVBI5IiAWyQ3e125AcKoXs2Djhy5eVc3KiBxREIPkhjBiLhIjU++4T91IbggjRiCJLSEIwWGddkEaxlVN5KCArPHk8mXVpHk8FHH7JL3n5dPA7C90q7XkeFJucacNmGXeRfswLE71HA79efaGiCN/Ofjmfmtcp8X10tIsqCacV5xfRWjNUiXGYbovWgyFYHcQLak15K9oM5zqmgaeKsHJetbSHfSPzXOiw/rxE9YH4CXaUpsZ0ztemFurP95Jpyvrd29YTpIZr7cEJHqfc7Wl0PFm2+yJR70udaokKFtGPTdm8WdQe24+HmVLlueboWQquBcYYVH2vEzfh8kCks1p90eWsLCyZ8qK7E86Oe+3XYFnBuiWdth20UqZR5SvMoyPg3WNauJipi0LMTQgVq5xUUlZcrPsopPHJ926z8pm7xyFLrH/PxpHSoXKdWgXsLn1scZn1ZDd/2vszN3lt254qkE+qu3yoqLM+ghN3Qz2qcVzUC/ZMFsK/alU6l0OWV/bQz6v6yYbyuN5BaZ4A7Y30vs/PPksS2+qzlvfF7OQmzzcL7W+xa7OIfRuVdtn/tdvdFLnL4OTKcm2W16PmWc4FWWXNSlWM2n3D+uPxuyrcfo74aP+Ac30a82+oLmfAAAAAElFTkSuQmCC\" style={{width: '60px'}}></img>\r\n\r\n                    </div>\r\n                    <div className=\"col-10\">\r\n                    {this.props.onProfilePage ? this.props.postData.user:\r\n                        <Link to={\"/profile/\"+this.props.postData.user} >{this.props.postData.user}</Link>\r\n                    }\r\n                    \r\n                        \r\n                    </div>\r\n                    </div>\r\n                <div className=\"row justify-content-center\">\r\n                \r\n                <img className=\"images\" src={this.image} />\r\n\r\n                </div>\r\n                <div className=\"row\">\r\n                    <hr size=\"2px\"></hr>\r\n                </div>\r\n                <div className=\"row bottomHalf\">\r\n                    <div className=\"col-1\">\r\n                    <FontAwesomeIcon className=\"like\" icon={this.state.isLiked? faHeartSolid : faHeart} size=\"2x\"  onClick={(e)=> this.handleLike(e)}/>\r\n                    </div>\r\n                    <div className=\"col-1\">\r\n                    <FontAwesomeIcon className=\"like\" icon={this.state.isCommented? faCommentSolid : faComment} size=\"2x\" onClick={(e)=> this.handleComment(e)}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"col pl-4\">\r\n                    {this.props.postData.votes} Likes\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"col pl-4\">\r\n                {this.props.postData.user}: {this.props.postData.text}\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport PostView from \"./postView.component\";\r\nimport \"./homePage.css\";\r\nimport {Redirect} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class HomePage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isAllContent: true,\r\n            GoToCommentPage:false,\r\n            SelectedPost:\"\",\r\n            posts: [],\r\n            prevDataFromParent: null,\r\n            postIds:[]\r\n        \r\n        \r\n        };\r\n    \r\n        // This binding is necessary to make `this` work in the callback\r\n        this.FeedSwitch = this.FeedSwitch.bind(this);\r\n        this.OnGoToCommentsButtonClicked=this.OnGoToCommentsButtonClicked.bind(this);\r\n      }\r\n      componentDidMount() {\r\n        console.log(\"on the home page\")\r\n        \r\n        //this.props.socketHandler(\"HomePage\");\r\n        this.getPosts();\r\n      }\r\n\r\n    componentWillUnmount(){\r\n        console.log(\"leaving the Home page\")\r\n            \r\n        }\r\n\r\n        static getDerivedStateFromProps(props, state) {\r\n            // Any time the current user changes,\r\n            // Reset any parts of state that are tied to that user.\r\n            // In this simple example, that's just the email.\r\n            const {posts} =state;\r\n            console.log(\"Yo boii this is it\");\r\n            console.log(posts);\r\n            \r\n            if (props.dataFromParent !== state.prevDataFromParent) {\r\n                if(/* state.postIds.includes(props.dataFromParent.id) */ true){\r\n                    if(props.dataFromParent.updateType===\"vote\"){\r\n                        console.log(\"Yo we not updating the posts yea\");\r\n                        const {posts} =state;\r\n                        console.log(posts);\r\n                        if(posts.length!==0){\r\n                            const i=posts.findIndex((x)=> x._id===props.dataFromParent.id);\r\n                            console.log(\"the value of i is: \"+i);\r\n                            const postToUpdate= posts[i];\r\n    \r\n                            postToUpdate.votes=props.dataFromParent.vote;\r\n                            postToUpdate.voters=props.dataFromParent.voters;\r\n                            posts[i]=postToUpdate;\r\n    \r\n                            \r\n    \r\n                            /* const {comments} = state;\r\n                            comments.push(props.dataFromParent.vote);\r\n                            console.log(\"weupdating state\"); */\r\n                            //state.comments.push(props.dataFromParent.comment);\r\n                            return {\r\n                                prevDataFromParent: props.dataFromParent,\r\n                                posts:posts\r\n                              };\r\n                        }\r\n                        else{\r\n                           return{};\r\n                        }\r\n                        \r\n                    }\r\n                    else if(props.dataFromParent.updateType===\"post\"){\r\n                        console.log(\"Yo we updating the posts yea\");\r\n                        const {posts} =state;\r\n                        \r\n                        posts.push(props.dataFromParent.post);\r\n                        \r\n\r\n                        \r\n\r\n                        \r\n\r\n                        /* const {comments} = state;\r\n                        comments.push(props.dataFromParent.vote);\r\n                        console.log(\"weupdating state\"); */\r\n                        //state.comments.push(props.dataFromParent.comment);\r\n                        return {\r\n                            prevDataFromParent: props.dataFromParent,\r\n                            posts:posts\r\n                          };\r\n                    }\r\n                }\r\n             \r\n            }\r\n            return null;\r\n          }\r\n\r\n\r\n\r\n\r\n\r\n      getPosts(){\r\n\r\n        //clear before adding\r\n        this.setState(state => ({\r\n            posts: [],\r\n            postIds: []\r\n          }));\r\n        \r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/posts\",\r\n            {\r\n              method: \"get\"\r\n              \r\n            }\r\n          )\r\n            .then((res) => res.json())\r\n            .then((result) => {\r\n                console.log(result);\r\n                var arr =Array.from(result, x=>x._id);\r\n                result.reverse();\r\n                arr.reverse();\r\n                this.setState(state => ({\r\n                    posts: result,\r\n                    postIds:arr\r\n                  }));\r\n                  this.props.socketHandler(\"homepage\");\r\n                  /* console.log(\"the array is\");\r\n                  console.log(arr);\r\n                var x= JSON.stringify(arr); */\r\n                  \r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error getting Posts\", error); alert(error)});\r\n\r\n    }\r\n\r\n    getPostsFromFollowingFeed(){\r\n        //clear before adding\r\n        this.setState(state => ({\r\n            posts: [],\r\n            postIds: []\r\n          }));\r\n        \r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/fromFollowing\",\r\n            {\r\n              credentials: 'include',\r\n              method: \"get\"\r\n            }\r\n          ).then((res) => res.json())\r\n          .then((result) => {\r\n              console.log(result);\r\n              var arr =Array.from(result, x=>x._id);\r\n            result.reverse();\r\n            arr.reverse();\r\n              this.setState(state => ({\r\n                  posts: result,\r\n                  postIds:arr\r\n                }));\r\n                \r\n            });\r\n    }                      \r\n        \r\n\r\n\r\n\r\n    FeedSwitch(){\r\n        if(this.state.isAllContent){\r\n            //if it's currently on all content, get the following feed content\r\n            this.getPostsFromFollowingFeed();\r\n        } else{\r\n            //else get all content\r\n            this.getPosts();\r\n        }\r\n        this.setState(state => ({\r\n            isAllContent: !state.isAllContent\r\n          }));\r\n    }\r\n    OnGoToCommentsButtonClicked(postId){\r\n\r\n        this.setState({GoToCommentPage:true,\r\n        SelectedPost: postId});\r\n    }\r\n\r\n\r\n    render() {\r\n\r\n        if(this.state.GoToCommentPage===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/post/\"+this.state.SelectedPost}\r\n                    />\r\n                )\r\n        }\r\n\r\n        const elems=[\"Cat1\",\"Cat2\",\"Cat3\",\"Cat4\"];\r\n       // const items=[];\r\n        //for(const [index,value] of elems.entries()){\r\n        //    items.push(<PostView OnGoToCommentsButtonClicked={this.OnGoToCommentsButtonClicked}/>);\r\n        //}\r\n        return (\r\n            <div className=\"Container\">\r\n              <div className=\"row\">\r\n                <div className=\"col-3\">\r\n                \r\n                </div>\r\n                <div className=\"col-6\">\r\n                \r\n                <div className=\"Container\">\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                        <ul className=\"nav nav-pills nav-fill\">\r\n                        <li className={this.state.isAllContent ? 'nav-item nav-link active tab' : 'nav-item nav-link tab'} onClick={(e)=> this.FeedSwitch(e)}>\r\n                            All Content\r\n                        </li>\r\n                        <li className={this.state.isAllContent ? 'nav-item nav-link tab' : 'nav-item nav-link active tab'} onClick={(e)=> this.FeedSwitch(e)}>\r\n                            Following Feed\r\n                        </li>\r\n                        \r\n                        </ul>\r\n                        </div>\r\n                    \r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12\">\r\n                        {this.state.posts.map(item => (\r\n                                     <PostView key={item._id} postId={item._id} postData={item} OnGoToCommentsButtonClicked={this.OnGoToCommentsButtonClicked}/>\r\n                                    ))}\r\n                        \r\n                        </div>\r\n                    \r\n                    \r\n                    </div>\r\n\r\n\r\n\r\n                </div>\r\n                \r\n                \r\n                \r\n\r\n\r\n\r\n                </div>\r\n                <div className=\"col-3\">\r\n                \r\n                </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\n\r\nimport PostView from \"./postView.component\";\r\nimport {Redirect, Link} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\nexport default class ProfilePage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isFollowing: false,\r\n            posts: [],\r\n            userNotFound:false,\r\n            loading:true\r\n            };\r\n    \r\n        // This binding is necessary to make `this` work in the callback\r\n        this.handleFollow = this.handleFollow.bind(this);\r\n        this.OnGoToCommentsButtonClicked=this.OnGoToCommentsButtonClicked.bind(this);\r\n      }\r\n\r\n    handleFollow(){\r\n          //localhost:3000/users/toggleFollow/jacobTesterman2\r\n          fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/toggleFollow/\"+this.state.profileUsername,\r\n              {\r\n                credentials: 'include',\r\n                method: \"post\"\r\n              }\r\n            ).then((res) => res.json())\r\n            .then((result) => { \r\n              if (result.status == \"success\"){\r\n                console.log(\"toggled successfully\");\r\n                this.setState(state => ({\r\n                  isFollowing: !this.state.isFollowing,\r\n                }));\r\n              }\r\n              else{\r\n                console.log(result);\r\n                console.log(\"toggle unsuccessful\");\r\n              }\r\n            }\r\n          ).catch((error) => {alert(\"Error. Maybe try logging in?\", error)});\r\n  \r\n    }\r\n\r\n    OnGoToCommentsButtonClicked(postId){\r\n\r\n        this.setState({GoToCommentPage:true,\r\n        SelectedPost: postId});\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        console.log(\"on the profile page\")\r\n        //dthis.props.socketHandler(\"ProfilePage\");\r\n        const { profileUsername } = this.props.match.params\r\n        let setIsFollowing = this.setIsFollowing(profileUsername);\r\n        this.setState(state => ({\r\n            profileUsername: profileUsername,\r\n          }));\r\n        this.getPosts(profileUsername);\r\n      }\r\n\r\n    setIsFollowing(profileUsername) {\r\n            fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/amIFollowing/\"+profileUsername,\r\n              {\r\n                credentials: 'include',\r\n                method: \"get\"\r\n              }\r\n            ).then((res)=>{ return res.json() }).then((text)=>{\r\n              this.setState(state => ({\r\n                isFollowing: text.following,\r\n              }));\r\n          }).catch((error) => {alert(\"ERROR\");this.state.isFollowing = false});\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        console.log(\"leaving the profile page\")\r\n            \r\n        }\r\n\r\n\r\n\r\n    getPosts(profileUsername){\r\n      \r\n      fetch(\r\n        Constants.config.url[\"API_URL\"]+\"/posts/user/\"+profileUsername,\r\n          {\r\n            method: \"get\"\r\n            \r\n          }\r\n        )\r\n          .then((res) => res.json())\r\n          .then((result) => {\r\n            if(result.status===\"Success\"){\r\n              console.log(result);\r\n              result.posts.reverse();\r\n              this.setState(state => ({\r\n                  loading:false,\r\n                  userNotFound:false,\r\n                  posts: result.posts\r\n                }));\r\n\r\n                var arr =result.posts;\r\n                var x= JSON.stringify(arr);\r\n                this.props.socketHandler(x);\r\n              \r\n            }\r\n            else{\r\n              this.setState(state =>({\r\n                loading:false,\r\n                userNotFound:true,\r\n              }))\r\n            }\r\n              \r\n            \r\n          })\r\n          .catch((error) => {alert(\"Error getting Posts\", error); alert(error)});\r\n\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n    render() {\r\n       // const elems=[\"Cat1\",\"Cat2\",\"Cat3\",\"Cat4\"];\r\n       // const items=[];\r\n       // for(const [index,value] of elems.entries()){\r\n       //     items.push(<PostView/>);\r\n        //}\r\n        const { profileUsername } = this.props.match.params\r\n\r\n        if(this.state.userNotFound){\r\n          return(\r\n            <div className=\"Container\">User Not Found</div>\r\n          )\r\n        }\r\n        if(this.state.GoToCommentPage===true){\r\n          return(\r\n              <Redirect push\r\n                  to={\"/post/\"+this.state.SelectedPost}\r\n                  />\r\n              )\r\n      }\r\n        return (\r\n            <div className=\"Container\">\r\n              \r\n                \r\n              \r\n                <div className=\"Container\">\r\n                    <div className=\"row\">\r\n                        <div class=\"col-1\">\r\n                                <img src=\"data:image/png;base64,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\" style={{width: '60px'}}></img>\r\n\r\n                            </div>\r\n                        <div className=\"col-1\">{this.state.loading ? \"loading...\" : profileUsername }</div>\r\n\r\n                        <div className=\"col-1\">\r\n                            <button type=\"button\" className=\"btn btn-primary\" onClick={(e)=> this.handleFollow(e)}>{this.state.isFollowing ? 'Following' : 'Follow'}</button>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n                </div>\r\n\r\n                <div className=\"Container\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-3\">\r\n                    \r\n                    </div>\r\n                    <div className=\"col-6\">\r\n                    \r\n                                    {this.state.loading ? \"Loading\": \r\n                                    \r\n                                      this.state.posts.length===0 ? \"This user doesnt have any posts\" :\r\n                                      this.state.posts.map(item => (\r\n                                        <PostView key={item._id} postId={item._id} postData={item} OnGoToCommentsButtonClicked={this.OnGoToCommentsButtonClicked} onProfilePage={true}/>\r\n                                        ))\r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    \r\n                                    }\r\n                    \r\n                                    \r\n\r\n\r\n\r\n                    </div>\r\n                    <div className=\"col-3\">\r\n                    \r\n                    </div>\r\n                </div>\r\n                \r\n                </div>\r\n\r\n\r\n                   \r\n            </div>\r\n            \r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./loginPage.css\"\r\nimport * as Constants from \"../Constants.js\"\r\n\r\nexport default class CreateAccount extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onSubmit = this.onSubmit.bind(this);\r\n        this.onChangeUsername = this.onChangeUsername.bind(this);\r\n        this.onChangePassword = this.onChangePassword.bind(this);\r\n        this.onChangePasswordVerify = this.onChangePasswordVerify.bind(this);\r\n\r\n        this.state = {\r\n            username: \"\",\r\n            password: \"\",\r\n            passwordverify: \"\",\r\n            raw: {},\r\n            status: \"\"\r\n        }\r\n    }\r\n\r\n    onChangeUsername(e) {\r\n        this.state.raw['usersignup'] = e.target.value;\r\n        this.setState({\r\n            username: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePassword(e){\r\n        this.state.raw['passwordsignup'] = e.target.value;\r\n        this.setState({\r\n            password: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangePasswordVerify(e){\r\n        this.setState({\r\n            passwordverify: e.target.value\r\n        });\r\n    }\r\n\r\n\r\n    onSubmit(e) {\r\n        e.preventDefault();\r\n\r\n        if(this.state.password.localeCompare(this.state.passwordverify)){\r\n            alert(\"Passwords do not match\");\r\n        }\r\n        else{\r\n            console.log(JSON.stringify(this.state.raw));\r\n            fetch(Constants.config.url[\"API_URL\"]+'/users/createAccount', {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Accept': 'application/json, text/plain, */*',\r\n                    'Content-Type': 'application/json',\r\n                    'Connection': 'keep-alive'\r\n                },\r\n                body: JSON.stringify(this.state.raw)\r\n            }).then(res=>{\r\n                console.log(res);\r\n                if (res.status == 200){\r\n                    this.setState({\r\n                        status: 'Account ' + this.state.username + '  created successfully!',\r\n                        username: '',\r\n                        password: '',\r\n                        passwordverify: ''\r\n                    })\r\n                }\r\n                else if (res.status == 400){\r\n                    this.setState({\r\n                        status: 'ERROR: Username ' + this.state.username + ' already exists',\r\n                        username: ''\r\n                    })\r\n                }\r\n                else{\r\n                    this.setState({\r\n                        status: 'ERROR: Something went wrong. Please try again.',\r\n                        username: '',\r\n                        password: '',\r\n                        passwordverify: ''\r\n                    })\r\n                }\r\n            });\r\n        } \r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div style={{ marginTop: 10 }}>\r\n                <h3>Create account:</h3>\r\n                <form onSubmit={this.onSubmit}>\r\n                    <div className=\"form-group\">\r\n                        <label>Username: </label>\r\n                        <input type=\"username\"\r\n                            className=\"form-control\"\r\n                            onChange={this.onChangeUsername}\r\n                            value = {this.state.username}\r\n\r\n\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Password: </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            onChange={this.onChangePassword}\r\n                            value = {this.state.password}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label>Repeat Password: </label>\r\n                        <input\r\n                            type=\"password\"\r\n                            className=\"form-control\"\r\n                            onChange={this.onChangePasswordVerify}\r\n                            value = {this.state.passwordverify}\r\n                            required\r\n                        />\r\n                    </div>\r\n                    <div className=\"form-group Container\">\r\n                        <div className=\"row\">\r\n                            <button className=\"col-4 btn btn-primary\" type=\"button\" onClick={this.onSubmit}>\r\n                                Create\r\n                            </button>\r\n                            <span style={{marginLeft: 10, marginTop: 7}}>{this.state.status}</span>\r\n\r\n                        </div>\r\n                        <br></br>\r\n\r\n                    </div>\r\n\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport \"./postView.css\"\r\nimport \"./postPage.css\"\r\nimport { library } from '@fortawesome/fontawesome-svg-core'\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport {faHeart,faComment} from '@fortawesome/fontawesome-free-regular'\r\nimport { faHeart as faHeartSolid, faComment as faCommentSolid } from '@fortawesome/free-solid-svg-icons'\r\nimport {Redirect, useParams} from 'react-router-dom';\r\nimport * as Constants from \"../Constants.js\";\r\n\r\n\r\n\r\nimport { s } from '@fortawesome/free-solid-svg-icons'\r\n\r\nexport default class PostPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        \r\n        this.state = {isLiked: false, isCommented: false,\r\n        \r\n            postData: [],\r\n                comments: [],\r\n                goBackToHomePage:false,\r\n                commentInputText: '',\r\n                prevDataFromParent: null,\r\n                goToLogin: false\r\n                \r\n                \r\n        };\r\n\r\n\r\n    \r\n        // This binding is necessary to make `this` work in the callback\r\n        this.handleLike = this.handleLike.bind(this);\r\n        this.handleInputChange2 = this.handleInputChange2.bind(this);\r\n        this.handleComment = this.handleComment.bind(this);\r\n        this.OnPostCommentButtonClicked = this.OnPostCommentButtonClicked.bind(this);\r\n      }\r\n\r\n      componentDidMount() {\r\n        console.log(\"on the Post page\")\r\n        \r\n        const { postId } = this.props.match.params\r\n        this.setState(state => ({\r\n            thepostId: postId\r\n          }));\r\n        this.getPost();\r\n      }\r\n      componentWillUnmount(){\r\n        console.log(\"leaving the Post page\")\r\n            \r\n        }\r\n\r\n        static getDerivedStateFromProps(props, state) {\r\n            // Any time the current user changes,\r\n            // Reset any parts of state that are tied to that user.\r\n            // In this simple example, that's just the email.\r\n            if (props.dataFromParent !== state.prevDataFromParent) {\r\n                if(props.dataFromParent.id===state.thepostId){\r\n                    if(props.dataFromParent.updateType===\"comment\"){\r\n                        const {comments} = state;\r\n                        comments.push(props.dataFromParent.comment);\r\n                        console.log(\"weupdating state\");\r\n                        //state.comments.push(props.dataFromParent.comment);\r\n                        return {\r\n                            prevDataFromParent: props.dataFromParent,\r\n                            comments:comments\r\n                          };\r\n                    }\r\n                    else if(props.dataFromParent.updateType===\"vote\"){\r\n                        const {postData} = state;\r\n                        postData.votes=props.dataFromParent.vote;\r\n                        postData.voters=props.dataFromParent.voters;\r\n                        return {\r\n                            prevDataFromParent: props.dataFromParent,\r\n                            postData: postData\r\n                          };\r\n                    }\r\n                }\r\n             \r\n            }\r\n            return null;\r\n          }\r\n\r\n\r\n      /*componentDidUpdate(prevProps){\r\n        if (this.props.dataFromParent !== prevProps.dataFromParent) {\r\n            if(this.props.dataFromParent.id===this.state.thepostId){\r\n                if(this.props.dataFromParent.updateType===\"comment\"){\r\n                    this.state.comments.push(this.props.dataFromParent.comment);\r\n                }\r\n            }\r\n          }\r\n      }*/\r\n\r\n      \r\n    handleInputChange2(event) {\r\n        const target = event.target;\r\n        const value = target.value;\r\n        const name = target.name;\r\n    \r\n        this.setState({\r\n          [name]: value\r\n        });\r\n      }\r\n\r\n      handleLike(){\r\n        if(!sessionStorage.getItem(\"username\")){\r\n            this.setState({\r\n                goToLogin: true\r\n            })\r\n        }\r\n        else{\r\n            const { postId } = this.props.match.params;\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/posts/upvote/\"+postId,\r\n            {\r\n                credentials: 'include',\r\n               // mode: \"same-origin\",\r\n              method: \"post\",\r\n              headers: {\r\n                'Content-Type': 'application/json'}\r\n            }\r\n          )\r\n            .then((res) => res.text())\r\n            .then((result) => {\r\n                console.log(\"we smashed that like button and  got\");\r\n                console.log(result);\r\n                \r\n                \r\n              \r\n            })\r\n            .catch((error) => {alert(\"Error getting ProfileData\", error); alert(error)});\r\n        \r\n\r\n\r\n         this.setState(state => ({\r\n            isLiked: !state.isLiked\r\n          })); \r\n        }\r\n\r\n        \r\n    }\r\n\r\ngetPost(){\r\n    const { postId } = this.props.match.params\r\n    fetch(\r\n        Constants.config.url[\"API_URL\"]+\"/posts/\"+postId,\r\n        {\r\n          method: \"get\"\r\n          \r\n        }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((result) => {\r\n            console.log(result);\r\n            this.setState(state => ({\r\n                postData: result,\r\n                comments: result.comments\r\n              }));\r\n\r\n            \r\n              if(result.voters[sessionStorage.getItem(\"username\")]===\"upvote\"){\r\n            \r\n                \r\n                this.setState(state => ({\r\n                    isLiked:true\r\n                  }));\r\n            \r\n                }\r\n                else{\r\n            \r\n                    this.setState(state => ({\r\n                        isLiked:false\r\n                      }));\r\n           \r\n                }\r\n\r\n\r\n\r\n              var arr =[postId];\r\n              var x= JSON.stringify(arr);\r\n              this.props.socketHandler(x);\r\n          \r\n        })\r\n        .catch((error) => {alert(\"Error getting PostData\", error); alert(error)});\r\n\r\n\r\n\r\n\r\n}\r\nhandleComment(){\r\n    this.setState(state => ({\r\n       goBackToHomePage:true\r\n      }));\r\n    }\r\n\r\n    OnPostCommentButtonClicked(){\r\n        if(!sessionStorage.getItem(\"username\")){\r\n            this.setState({\r\n                goToLogin: true\r\n            })\r\n        }\r\n        else{\r\n            const { postId } = this.props.match.params\r\n            fetch(\r\n                Constants.config.url[\"API_URL\"]+\"/posts/comment/\"+postId,\r\n                {\r\n                    credentials: 'include',\r\n                   // mode: \"same-origin\",\r\n                  method: \"post\",\r\n                  headers: {\r\n                    'Content-Type': 'application/json'},\r\n                    \r\n                  body: JSON.stringify({\r\n                    \r\n                    \"text\": this.state.commentInputText\r\n                  }),\r\n                }\r\n              )\r\n                .then((res) => res.text())\r\n                .then((result) => {\r\n                    console.log(result);\r\n                    /* this.setState(state => ({\r\n                        isCommented: !state.isCommented\r\n                      })); */\r\n                    \r\n                  \r\n                })\r\n                .catch((error) => {alert(\"Error getting ProfileData\", error); alert(error)});\r\n        }\r\n        \r\n        }\r\n\r\n\r\n        \r\n    \r\n\r\n\r\n    render() {\r\n        if(this.state.goBackToHomePage===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/\"}\r\n                    />\r\n                )\r\n        }\r\n        else if(this.state.goToLogin===true){\r\n            return(\r\n                <Redirect push\r\n                    to={\"/login\"}\r\n                    />\r\n                )\r\n        }\r\n\r\n        //////Assigning default image to jesseerror404 if not found/////////\r\n        var image;\r\n        if(this.state.postData.src != undefined){\r\n            this.image = Constants.config.url[\"API_URL\"]+\"/\"+this.state.postData.src\r\n        }else{\r\n            this.image = Constants.config.url[\"API_URL\"]+\"/images/error404.jpg\"\r\n        }\r\n        ////////////////////////////////////////////////////////////        \r\n\r\n        return (\r\n            \r\n            <div className=\"container postContainer\">\r\n                <div className=\"row\">\r\n                <div  className=\"col-7\">\r\n                <div className=\"container\">\r\n                <div className=\"row\">\r\n                \r\n                    <div className=\"col-2\">\r\n                        <img src=\"data:image/png;base64,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\" style={{width: '60px'}}></img>\r\n\r\n                    </div>\r\n                    <div className=\"col-10\">\r\n                        {this.state.postData.user}\r\n                    </div>\r\n                    </div>\r\n                <div className=\"row justify-content-center\">\r\n                \r\n                <img className=\"images\" src={this.image} />\r\n\r\n                </div>\r\n                <div className=\"row\">\r\n                    <hr size=\"2px\"></hr>\r\n                </div>\r\n                <div className=\"row bottomHalf\">\r\n                    <div className=\"col-1\">\r\n                    <FontAwesomeIcon className=\"like\" icon={this.state.isLiked? faHeartSolid : faHeart} size=\"2x\"  onClick={(e)=> this.handleLike(e)}/>\r\n                    </div>\r\n                    <div className=\"col-1\">\r\n                    <FontAwesomeIcon className=\"like\" icon={faCommentSolid/* this.state.isCommented? faCommentSolid : faComment */} size=\"2x\" onClick={(e)=> this.handleComment(e)}/>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"col\">\r\n                {this.state.postData.votes}  Likes\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                <div className=\"col\">\r\n                    {this.state.postData.user}: {this.state.postData.text}\r\n                    </div>\r\n                </div>\r\n                </div>\r\n                </div>\r\n                <div  className=\"col-5\">\r\n                <div className=\"container fill  CommentSection border\">\r\n                    <div className=\"row TopCommentSection border-bottom\" >\r\n                            <div className=\"col d-flex justify-content-center align-items-center\">\r\n                            \r\n                            <h2>Comment Section</h2>\r\n\r\n                            </div>\r\n                    </div>\r\n                    <div className=\"row CommentFeed overflow-auto\">\r\n                        <div className=\"col noPad \">\r\n                            \r\n                            <ul className=\"list-group list-group-flush\">\r\n                                    {this.state.comments.map(item => (\r\n                                     <li className=\"list-group-item text-wrap text-break\" key={item._id}>{item.user}: {item.text}</li>\r\n                                    ))}\r\n                                \r\n                               \r\n                            </ul>\r\n\r\n\r\n\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row BottomCommentSection border-top\" >\r\n                        <div className=\"col d-flex justify-content-center align-items-center\">\r\n                            \r\n                            {/*<div className=\"d-flex justify-content-center align-items-center align-self-center\">*/}\r\n                                <div className=\"input-group mb-3 noPad noMar\">\r\n                                    <input type=\"text\" class=\"form-control\" name=\"commentInputText\" aria-label=\"Text input with segmented dropdown button for commenting\" placeholder=\"Comment Here\"  aria-describedby=\"button-addon2\" value={this.state.commentInputText} onChange={this.handleInputChange2}/>\r\n                                    \r\n                                    <div className=\"input-group-append\">\r\n                                        <button className=\"btn btn-outline-primary\" type=\"button\" id=\"button-addon2\" onClick={(e) => this.OnPostCommentButtonClicked(e)}>Post</button>\r\n                                    </div>\r\n                                </div>\r\n                                {/* </div>*/}\r\n\r\n                            </div>\r\n                        \r\n                    </div>\r\n                </div>\r\n                </div>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React, { Component } from 'react';\r\nimport * as Constants from \"../Constants.js\";\r\nimport {Redirect, useParams} from 'react-router-dom';\r\nexport default class LogoutPage extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {isLoggedOut: false};\r\n        \r\n    \r\n        \r\n\r\n        // This binding is necessary to make `this` work in the callback\r\n        this.goLogout=this.goLogout.bind(this);\r\n      }\r\n    componentDidMount(){\r\n        this.goLogout();\r\n    }\r\n\r\n    goLogout(){\r\n        fetch(\r\n            Constants.config.url[\"API_URL\"]+\"/users/logout\",\r\n              {\r\n                method: \"get\",\r\n                credentials: 'include'\r\n              }\r\n            )\r\n              .then((res) => res.json())\r\n              .then((result) => {\r\n                if(result.status===\"Success\"){\r\n                  console.log(result);\r\n                  this.props.SuccesfullLogoutCallback();\r\n                  this.setState({isLoggedOut:true})\r\n                    \r\n                  \r\n                }\r\n                else{\r\n                    this.setState({goToLoginPage:true})\r\n                }\r\n                  \r\n                \r\n              })\r\n              .catch((error) => {alert(\"Error getting Posts\", error); alert(error)});\r\n    }\r\n      render() {\r\n          if(this.state.isLoggedOut){\r\n              return(<Redirect push to={\"/\"} />)\r\n          }\r\n          else if(this.state.goToLoginPage){\r\n            return(<Redirect push to={\"/login\"} />)\r\n            }\r\n          else{\r\n              return(<div>Loading</div>)\r\n          }\r\n\r\n      }\r\n}\r\n\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route, Link, useLocation, Redirect } from \"react-router-dom\";\r\n\r\nimport { Chat } from 'react-chat-popup';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./App.css\";\r\nimport ReactDOM from 'react-dom'\r\nimport DirectMessaging from \"./components/directmessaging/DirectMessaging\"\r\nimport CreatePost from \"./components/create-post.component\";\r\nimport CreateLogin from \"./components/create-login.component\";\r\n\r\nimport openSocket from 'socket.io-client';\r\nimport HomePage from \"./components/HomePage.component\";\r\nimport ProfilePage from \"./components/ProfilePage.component\";\r\nimport CreateAccount from \"./components/create-account.component\";\r\nimport PostPage from \"./components/postPage.component\";\r\nimport LogoutPage from \"./components/logoutPage.component\";\r\nimport logo from \"./logo.svg\";\r\nimport * as Constants from \"./Constants.js\"\r\n\r\nconst socket = openSocket(Constants.config.url[\"API_URL\"]+'/',{transports: ['websocket']});\r\nconst secureSocket=openSocket(Constants.config.url[\"API_URL\"]+'/chat',{transports: ['websocket']});\r\n\r\nclass App extends Component {\r\n\r\n\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      data:\"\",\r\n      isLoggedIn:false,\r\n      newMessage: \"\"\r\n    };\r\n\r\n    // This binding is necessary to make `this` work in the callback\r\n    this.sendSocketIO = this.sendSocketIO.bind(this);\r\n    this.apples= this.apples.bind(this);\r\n    this.onAuthenticate=this.onAuthenticate.bind(this);\r\n    this.onChatUpdate=this.onChatUpdate.bind(this);\r\n    this.SuccesfullLoginCallback= this.SuccesfullLoginCallback.bind(this);\r\n    this.SuccesfullLogoutCallback= this.SuccesfullLogoutCallback.bind(this);\r\n    this.getCookie=this.getCookie.bind(this);\r\n    \r\n    socket.on('update', this.apples)\r\n    secureSocket.on('authenticate', this.onAuthenticate);\r\n    secureSocket.on('chatUpdate', this.onChatUpdate);\r\n  }\r\n\r\n  socketUpdateHandler=(a)=>{\r\n    this.sendSocketIO(a);\r\n  }\r\n  \r\napples(msg){\r\n  console.log(msg);\r\n  this.setState(state => ({\r\n    data:msg\r\n  }))\r\n}\r\nonAuthenticate(msg){\r\n  console.log(msg);\r\n  if(msg===\"login successful!\"){\r\n    console.log(\"We successfully authenticated on the secure socket\")\r\n  }\r\n\r\n}\r\nonChatUpdate(msg){\r\n  this.setState({\r\n    newMessage: msg\r\n  })\r\n}\r\n\r\ncomponentDidMount(){\r\n//this.sendSocketIO(\"waddup\");\r\nthis.checkIfLoggedIn();\r\nthis.onRouteChanged();\r\n}\r\n\r\nsendSocketIO(s) {\r\n  if(s===\"homepage\"){\r\n    console.log(\"yo we sending without the listento\")\r\n    socket.emit(s);\r\n  }\r\n  else{\r\n    socket.emit('listenTo', s);\r\n  }\r\n  \r\n}\r\ngetCookie(cname){\r\n  var name = cname + \"=\";\r\n  var decodedCookie = decodeURIComponent(document.cookie);\r\n  var ca = decodedCookie.split(';');\r\n  for(var i = 0; i <ca.length; i++) {\r\n    var c = ca[i];\r\n    while (c.charAt(0) == ' ') {\r\n      c = c.substring(1);\r\n    }\r\n    if (c.indexOf(name) == 0) {\r\n      return c.substring(name.length, c.length);\r\n    }\r\n  }\r\n  return \"\";\r\n}\r\n\r\ncheckIfLoggedIn(){\r\n  fetch(\r\n    Constants.config.url[\"API_URL\"]+\"/users/whoamI\",\r\n      {\r\n        method: \"get\",\r\n        credentials: 'include'\r\n      }\r\n    )\r\n      .then((res) => res.json())\r\n      .then((result) => {\r\n        if(result.status===\"Success\"){\r\n          console.log(result);\r\n          this.setState(state => ({\r\n              loading:false,\r\n              isLoggedIn:true\r\n              \r\n              \r\n            }));\r\n            var myAuth=this.getCookie(\"authToken\");\r\n            var p= {\r\n              \"username\": result.username,\r\n              \"authToken\": myAuth\r\n            }\r\n            //console.log(p);\r\n            secureSocket.emit('authenticate', p)\r\n            \r\n          \r\n        }\r\n        else{\r\n          \r\n        }\r\n          \r\n        \r\n      })\r\n      .catch((error) => {alert(\"Error getting Posts\", error); alert(error)});\r\n}\r\n\r\nSuccesfullLoginCallback(username){\r\n\r\n            fetch(\r\n              Constants.config.url[\"API_URL\"]+\"/users/whoamI\",\r\n                {\r\n                  method: \"get\",\r\n                  credentials: 'include'\r\n                }\r\n              )\r\n                .then((res) => res.json())\r\n                .then((result) => {\r\n                  if(result.status===\"Success\"){\r\n                    console.log(result);\r\n                    this.setState(state => ({\r\n                        loading:false,\r\n                        isLoggedIn:true,\r\n                        \r\n                        \r\n                      }));\r\n                      var myAuth=this.getCookie(\"authToken\");\r\n                      var p= {\r\n                        \"username\": result.username,\r\n                        \"authToken\": myAuth\r\n                      }\r\n                      //console.log(p);\r\n                      secureSocket.emit('authenticate', p)\r\n                      \r\n                    \r\n                  }\r\n                  else{\r\n                    \r\n                  }\r\n                    \r\n                  \r\n                })\r\n                .catch((error) => {alert(\"Error getting checking if logged in\", error); alert(error)});\r\n\r\n  \r\n  this.setState({\r\n    isLoggedIn:true\r\n  })\r\n}\r\nSuccesfullLogoutCallback(){\r\n  this.setState({\r\n    isLoggedIn:false\r\n  })\r\n}\r\n\r\n\r\ncomponentDidUpdate(prevProps, prevState) {\r\n  console.log(\"route dh\");\r\nthis.onRouteChanged();\r\n}\r\nonRouteChanged() {\r\n  console.log(\"ROUTE CHANGED\");\r\n}\r\n\r\n\r\n  render() {\r\n    //this.sendSocketIO(\"FirstField\",\"waddup\");\r\n    return (\r\n      <Router >\r\n        <div className=\"container MainContainerBG\">\r\n          <nav className=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n            <a class=\"navbar-brand\" href=\"#\" target=\"_blank\">\r\n              <img src={logo} width=\"30\" height=\"30\" alt=\"Our Logo\" />\r\n            </a>\r\n            <Link to=\"/\" className=\"navbar-brand\">CatRatMatSocket</Link>\r\n            <div className=\"collpase navbar-collapse\">\r\n              <ul className=\"navbar-nav ml-auto\">\r\n                <li className=\"navbar-item\">\r\n                  <Link to=\"/\" className=\"nav-link\">Home</Link>\r\n                </li>\r\n                <li className=\"navbar-item\">\r\n                 {this.state.isLoggedIn ?\r\n                  <Link to={\"/profile/\"+sessionStorage.getItem(\"username\")} className=\"nav-link\">Profile</Link> : <div></div>}\r\n                </li>\r\n                <li className=\"navbar-item\">\r\n                {this.state.isLoggedIn ?\r\n                  <Link to=\"/create\" className=\"nav-link\">Create Post</Link> : <div></div>}\r\n                </li>\r\n                <li className=\"navbar-item\">\r\n                  {this.state.isLoggedIn ? <Link to=\"/logout\" className=\"nav-link\">Logout</Link> :\r\n                    <Link to=\"/login\" className=\"nav-link\">Login</Link>\r\n                  }\r\n                </li>\r\n\r\n                {this.state.isLoggedIn ? <div className=\"navbar-item nav-link navbar-right\" style={{float:\"right\"}}>Welcome, {sessionStorage.getItem(\"username\")}</div> : <div></div>}\r\n              </ul>\r\n            </div>\r\n          </nav>\r\n          <br />\r\n        \r\n          <Route path=\"/\" exact >\r\n                <HomePage socketHandler={this.socketUpdateHandler}  dataFromParent={this.state.data} ></HomePage>\r\n            </Route> \r\n          <Route path=\"/Profile/:profileUsername\" exact  render={\r\n              (props) => <ProfilePage  {...props} socketHandler={this.socketUpdateHandler} dataFromParent={this.state.data} ></ProfilePage>\r\n          }\r\n                 >\r\n            </Route> \r\n          <Route path=\"/create\" >\r\n                {this.state.isLoggedIn ? <CreatePost socketHandler={this.socketUpdateHandler} ></CreatePost> :\r\n                          <Redirect to={'/login'} />\r\n                        }\r\n                \r\n            </Route> \r\n          <Route path=\"/login\">\r\n                <CreateLogin socketHandler={this.socketUpdateHandler} SuccesfullLoginCallback={this.SuccesfullLoginCallback} ></CreateLogin>\r\n            </Route> \r\n            <Route path=\"/logout\">\r\n                <LogoutPage socketHandler={this.socketUpdateHandler} SuccesfullLogoutCallback={this.SuccesfullLogoutCallback} ></LogoutPage>\r\n            </Route> \r\n          <Route path=\"/createAccount\" >\r\n                <CreateAccount socketHandler={this.socketUpdateHandler} ></CreateAccount>\r\n            </Route> \r\n          <Route path=\"/post/:postId\" render={(props) => <PostPage {...props} socketHandler={this.socketUpdateHandler}  dataFromParent={this.state.data}></PostPage>} >\r\n                \r\n            </Route> \r\n            {this.state.isLoggedIn ? <DirectMessaging onNewMessage={this.state.newMessage}/> :<div/>}\r\n          \r\n\r\n          {/* <Chat\r\n            handleNewUserMessage={this.handleNewUserMessage}\r\n          /> */}\r\n        </div>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' }\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo.ee7cd8ed.svg\";"],"sourceRoot":""}